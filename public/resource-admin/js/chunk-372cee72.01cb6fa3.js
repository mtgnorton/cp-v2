(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-372cee72","chunk-585730ca","chunk-1b1b0c04","chunk-0a90d205","chunk-8d719210","chunk-68d5bf9e","chunk-d19c1a98","chunk-2d0f012d"],{"046a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictName"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictName,callback:function(t){e.$set(e.queryParams,"dictName",t)},expression:"queryParams.dictName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dictType"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入字典类型",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"字典状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dict_value,attrs:{label:e.dict_label,value:e.dict_value}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/dict/type"],expression:"['POST:/system/dict/type']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/dict/type"],expression:"['PUT:/system/dict/type']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/dict/type"],expression:"['DELETE:/system/dict/type']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["GET:/system/dict/type/export"],expression:"['GET:/system/dict/type/export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.typeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编号",align:"center",prop:"dict_id"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典名称",align:"center",prop:"dict_name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型",align:"center","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"link-type",attrs:{to:"/dict/type/data/"+t.row.dict_id}},[a("span",[e._v(e._s(t.row.dict_type))])])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/dict/type"],expression:"['PUT:/system/dict/type']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/dict/type"],expression:"['DELETE:/system/dict/type']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dict_name"}},[a("el-input",{attrs:{placeholder:"请输入字典名称"},model:{value:e.form.dict_name,callback:function(t){e.$set(e.form,"dict_name",t)},expression:"form.dict_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"字典类型",prop:"dict_type"}},[a("el-input",{attrs:{placeholder:"请输入字典类型"},model:{value:e.form.dict_type,callback:function(t){e.$set(e.form,"dict_type",t)},expression:"form.dict_type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dict_value,attrs:{label:t.dict_value}},[e._v(e._s(t.dict_label))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("ed45"),i={name:"Dict",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,typeList:[],title:"",open:!1,statusOptions:[],dateRange:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dict_name:[{required:!0,message:"字典名称不能为空",trigger:"blur"}],dict_type:[{required:!0,message:"字典类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(l["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.typeList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dict_id:void 0,dict_name:void 0,dict_type:void 0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典类型"},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dict_id})).join(","),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dict_id||this.ids;Object(l["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典类型"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dict_id?Object(l["g"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(l["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.dict_id||this.ids;this.$confirm('是否确认删除字典编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有类型数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},"0a5c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],l=a("313e"),i=a.n(l),r=a("feb2");a("817d");var s=3e3,c={mixins:[r["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:s}]})}}},u=c,d=a("2877"),m=Object(d["a"])(u,n,o,!1,null,null,null);t["default"]=m.exports},1092:function(e,t,a){},"1a2c":function(e,t,a){"use strict";a("77e1")},"1a36":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20,xs:24}},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n          ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"row-key":"id",data:e.nodeList,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"id",prop:"id","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"是否首页显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_index?a("el-tag",{attrs:{type:"primary"}},[e._v("否")]):e._e(),e._v(" "),1==t.row.is_index?a("el-tag",{attrs:{type:"success"}},[e._v("是")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"描述",align:"center",prop:"description"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!==t.row.is_disabled_edit?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑\n            ")]):e._e(),e._v(" "),1!==t.row.is_disabled_edit?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n            ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"900px"}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("editor",{staticStyle:{"z-index":"3000"},attrs:{modal:"false","api-key":"a9cigkql8eaks4eg3k90zet0czn6emo68dgc5odd5vfz6ekd",init:{plugins:"lists link image table code help wordcount",height:"400"}},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"首页固定"}},[a("el-radio-group",{model:{value:e.form.is_index,callback:function(t){e.$set(e.form,"is_index",t)},expression:"form.is_index"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("1540"),i=a("ca72"),r={name:"lose_block",data:function(){return{loading:!0,total:0,open:!1,form:{},title:"",nodeList:[],queryParams:{page:1,size:10}}},components:{editor:i["a"]},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["nodeList"])(this.queryParams).then((function(t){e.nodeList=e.handleTree(t.data.list),console.log(JSON.parse(JSON.stringify(e.nodeList))),e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={is_index:0,name:"",description:""},this.resetForm("form")},handleAdd:function(){this.reset(),this.open=!0,this.title="添加节点"},handleUpdate:function(e){var t=this;this.reset(),Object(l["nodeInfo"])({id:e.id}).then((function(e){t.form=e.data,t.open=!0,t.title="修改节点"}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["nodeDestroy"])({id:e.id})})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},submitForm:function(){var e=this;void 0===this.form.id?Object(l["nodeStore"])(this.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(l["nodeUpdate"])(this.form).then((function(t){0===t.code?(e.msgSuccess("更新成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()}}},s=r,c=(a("a76f"),a("2877")),u=Object(c["a"])(s,n,o,!1,null,null,null);t["default"]=u.exports},"1e4b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{attrs:{"all-post-count":e.allPostCount,"all-reply-count":e.allReplyCount,"all-user-count":e.allUserCount,"today-post-count":e.todayPostCount,"today-reply-count":e.todayReplyCount,"today-user-coun":e.todayUserCount}}),e._v(" "),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"chart-data":e.lineChartData}})],1)],1)},o=[],l=a("fbc4"),i=a("eab4"),r=a("1540"),s={name:"Index",components:{PanelGroup:l["default"],LineChart:i["default"]},created:function(){this.getStatistics()},data:function(){return{todayUserCount:0,todayPostCount:0,todayReplyCount:0,allUserCount:0,allPostCount:0,allReplyCount:0,lineChartData:{users:[],posts:[],replies:[],xCoordinate:[]}}},methods:{getStatistics:function(){var e=this;Object(r["s"])().then((function(t){var a=t.data;e.todayUserCount=a.today_user_count,e.todayPostCount=a.today_post_count,e.todayReplyCount=a.today_reply_count,e.allUserCount=a.all_user_count,e.allPostCount=a.all_post_count,e.allReplyCount=a.all_reply_count,e.lineChartData.users=a.day_30_user_inc,e.lineChartData.posts=a.day_30_post_inc,e.lineChartData.replies=a.day_30_reply_inc,e.lineChartData.xCoordinate=a.day_30_date}))}}},c=s,u=(a("926e"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,"49bbd9de",null);t["default"]=d.exports},"202d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.noticeTitle,callback:function(t){e.$set(e.queryParams,"noticeTitle",t)},expression:"queryParams.noticeTitle"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"操作人员",prop:"createBy"}},[a("el-input",{attrs:{placeholder:"请输入操作人员",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.createBy,callback:function(t){e.$set(e.queryParams,"createBy",t)},expression:"queryParams.createBy"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"公告类型",clearable:"",size:"small"},model:{value:e.queryParams.noticeType,callback:function(t){e.$set(e.queryParams,"noticeType",t)},expression:"queryParams.noticeType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:add"],expression:"['system:notice:add']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.noticeList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",align:"center",prop:"noticeId",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"公告标题",align:"center",prop:"noticeTitle","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"公告类型",align:"center",prop:"noticeType",formatter:e.typeFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建者",align:"center",prop:"createBy",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.createTime,"{y}-{m}-{d}")))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:edit"],expression:"['system:notice:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["system:notice:remove"],expression:"['system:notice:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"780px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[a("el-input",{attrs:{placeholder:"请输入公告标题"},model:{value:e.form.noticeTitle,callback:function(t){e.$set(e.form,"noticeTitle",t)},expression:"form.noticeTitle"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"公告类型",prop:"noticeType"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.noticeType,callback:function(t){e.$set(e.form,"noticeType",t)},expression:"form.noticeType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dictValue,attrs:{label:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容"}},[a("Editor",{model:{value:e.form.noticeContent,callback:function(t){e.$set(e.form,"noticeContent",t)},expression:"form.noticeContent"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"padding-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("b775");function i(e){return Object(l["a"])({url:"/system/notice",method:"get",params:e})}function r(e){return Object(l["a"])({url:"/system/notice/"+e,method:"get"})}function s(e){return Object(l["a"])({url:"/system/notice",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/system/notice",method:"put",data:e})}function u(e){return Object(l["a"])({url:"/system/notice/"+e,method:"delete"})}var d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{staticClass:"avatar-uploader quill-img",attrs:{action:e.uploadImgUrl,name:"file",headers:e.headers,"show-file-list":!1,"on-success":e.quillImgSuccess,"on-error":e.uploadError,"before-upload":e.quillImgBefore,accept:".jpg,.jpeg,.png,.gif"}}),e._v(" "),a("quill-editor",{ref:"quillEditor",staticClass:"editor",attrs:{options:e.editorOption},on:{blur:function(t){return e.onEditorBlur(t)},focus:function(t){return e.onEditorFocus(t)},change:function(t){return e.onEditorChange(t)}},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)},m=[],p=(a("c5f6"),a("5f87")),f=a("953d"),v=(a("a753"),a("8096"),a("14e1"),[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"],["link","image","video"]]),h={props:{value:{type:String},maxSize:{type:Number,default:4e3}},components:{quillEditor:f["quillEditor"]},data:function(){return{content:this.value,editorOption:{theme:"snow",placeholder:"请输入内容",modules:{toolbar:{container:v,handlers:{image:function(e){e?document.querySelector(".quill-img input").click():this.quill.format("image",!1)}}}}},uploadImgUrl:"/admin/common/upload",headers:{Authorization:"Bearer "+Object(p["a"])()}}},watch:{value:function(){this.content=this.value}},methods:{onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){this.$emit("input",this.content)},quillImgBefore:function(e){var t=e.type;return"image/jpeg"===t||"image/png"===t||(this.$message.error("请插入图片类型文件(jpg/jpeg/png)"),!1)},quillImgSuccess:function(e,t){var a=this.$refs.quillEditor.quill;if(200==e.code){var n=a.getSelection().index;a.insertEmbed(n,"image",e.url),a.setSelection(n+1)}else this.$message.error("图片插入失败")},uploadError:function(){this.$message.error("图片插入失败")}}},b=h,_=(a("4ff4"),a("2877")),g=Object(_["a"])(b,d,m,!1,null,null,null),y=g.exports,w={name:"Notice",components:{Editor:y},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,noticeList:[],title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,noticeTitle:void 0,createBy:void 0,status:void 0},form:{},rules:{noticeTitle:[{required:!0,message:"公告标题不能为空",trigger:"blur"}],noticeType:[{required:!0,message:"公告类型不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_notice_status").then((function(t){e.statusOptions=t.data})),this.getDicts("sys_notice_type").then((function(t){e.typeOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.noticeList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},typeFormat:function(e,t){return this.selectDictLabel(this.typeOptions,e.noticeType)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={noticeId:void 0,noticeTitle:void 0,noticeType:void 0,noticeContent:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.noticeId})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加公告"},handleUpdate:function(e){var t=this;this.reset();var a=e.noticeId||this.ids;r(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改公告"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.noticeId?c(e.form).then((function(t){200===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):s(e.form).then((function(t){200===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.noticeId||this.ids;this.$confirm('是否确认删除公告编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},k=w,x=Object(_["a"])(k,n,o,!1,null,null,null);t["default"]=x.exports},"21b6":function(e,t,a){},2318:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"关键词",prop:"keyword"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入关键词",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.keyword,callback:function(t){e.$set(e.queryParams,"keyword",t)},expression:"queryParams.keyword"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/user"],expression:"['POST:/system/user']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n      ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/user"],expression:"['DELETE:/system/user']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:e.handleDelete}},[e._v("删除\n      ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"ID",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"敏感词",width:"100px",align:"center",prop:"word"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",width:"100px",align:"center",prop:"type"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",align:"center",prop:"created_at",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleAudit(t.row.id)}}},[e._v("审核\n        ")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"敏感词",prop:"form.word"}},[a("el-input",{attrs:{placeholder:"请输入敏感词"},model:{value:e.form.word,callback:function(t){e.$set(e.form,"word",t)},expression:"form.word"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"类型",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入类型"},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("1540"),i={name:"reply",data:function(){return{loading:!1,queryParams:{page:1,size:10},title:"新增",open:!1,list:[],total:0,detailOpen:!1,detailContent:"",form:{}}},created:function(){this.queryParams.post_id=this.$route.query.postId,this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["L"])(this.queryParams).then((function(t){e.list=t.data.list,e.total=t.data.total,e.loading=!1}))},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleView:function(e){this.detailContent=e.content,this.detailOpen=!0},reset:function(){this.form={id:void 0,type:void 0,word:void 0},this.resetForm("form")},handleAdd:function(){this.reset(),this.open=!0},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){Object(l["b"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))}}))},cancel:function(){this.open=!1,this.reset()},handleDelete:function(e){var t=this,a=e.id?[e.id]:this.ids;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["l"])({ids:a})})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id}))}}},r=i,s=(a("96d8"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},"26fc":function(e,t,a){e.exports=a.p+"resource-admin/img/404_cloud.0f4bc32b.png"},2754:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wscn-http404-container"},[a("div",{staticClass:"wscn-http404"},[e._m(0),e._v(" "),a("div",{staticClass:"bullshit"},[a("div",{staticClass:"bullshit__oops"},[e._v("\n        404错误!\n      ")]),e._v(" "),a("div",{staticClass:"bullshit__headline"},[e._v("\n        "+e._s(e.message)+"\n      ")]),e._v(" "),a("div",{staticClass:"bullshit__info"},[e._v("\n        对不起，您正在寻找的页面不存在。尝试检查URL的错误，然后按浏览器上的刷新按钮或尝试在我们的应用程序中找到其他内容。\n      ")]),e._v(" "),a("router-link",{staticClass:"bullshit__return-home",attrs:{to:"/"}},[e._v("\n        返回首页\n      ")])],1)])])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pic-404"},[n("img",{staticClass:"pic-404__parent",attrs:{src:a("a36b"),alt:"404"}}),e._v(" "),n("img",{staticClass:"pic-404__child left",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),n("img",{staticClass:"pic-404__child mid",attrs:{src:a("26fc"),alt:"404"}}),e._v(" "),n("img",{staticClass:"pic-404__child right",attrs:{src:a("26fc"),alt:"404"}})])}],l={name:"Page404",computed:{message:function(){return"找不到网页！"}}},i=l,r=(a("61b6"),a("2877")),s=Object(r["a"])(i,n,o,!1,null,"279ea4b2",null);t["default"]=s.exports},2855:function(e,t,a){"use strict";a.r(t);var n,o,l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"left-board"},[a("div",{staticClass:"logo-wrapper"},[a("div",{staticClass:"logo"},[a("img",{attrs:{src:e.logo,alt:"logo"}}),e._v(" Form Generator\n      ")])]),e._v(" "),a("el-scrollbar",{staticClass:"left-scrollbar"},[a("div",{staticClass:"components-list"},[a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("输入型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.inputComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.inputComponents,(function(t,n){return a("div",{key:n,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0),e._v(" "),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v("选择型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.selectComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.selectComponents,(function(t,n){return a("div",{key:n,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0),e._v(" "),a("div",{staticClass:"components-title"},[a("svg-icon",{attrs:{"icon-class":"component"}}),e._v(" 布局型组件\n        ")],1),e._v(" "),a("draggable",{staticClass:"components-draggable",attrs:{list:e.layoutComponents,group:{name:"componentsGroup",pull:"clone",put:!1},clone:e.cloneComponent,draggable:".components-item",sort:!1},on:{end:e.onEnd}},e._l(e.layoutComponents,(function(t,n){return a("div",{key:n,staticClass:"components-item",on:{click:function(a){return e.addComponent(t)}}},[a("div",{staticClass:"components-body"},[a("svg-icon",{attrs:{"icon-class":t.tagIcon}}),e._v("\n              "+e._s(t.label)+"\n            ")],1)])})),0)],1)])],1),e._v(" "),a("div",{staticClass:"center-board"},[a("div",{staticClass:"action-bar"},[a("el-button",{attrs:{icon:"el-icon-download",type:"text"},on:{click:e.download}},[e._v("\n        导出vue文件\n      ")]),e._v(" "),a("el-button",{staticClass:"copy-btn-main",attrs:{icon:"el-icon-document-copy",type:"text"},on:{click:e.copy}},[e._v("\n        复制代码\n      ")]),e._v(" "),a("el-button",{staticClass:"delete-btn",attrs:{icon:"el-icon-delete",type:"text"},on:{click:e.empty}},[e._v("\n        清空\n      ")])],1),e._v(" "),a("el-scrollbar",{staticClass:"center-scrollbar"},[a("el-row",{staticClass:"center-board-row",attrs:{gutter:e.formConf.gutter}},[a("el-form",{attrs:{size:e.formConf.size,"label-position":e.formConf.labelPosition,disabled:e.formConf.disabled,"label-width":e.formConf.labelWidth+"px"}},[a("draggable",{staticClass:"drawing-board",attrs:{list:e.drawingList,animation:340,group:"componentsGroup"}},e._l(e.drawingList,(function(t,n){return a("draggable-item",{key:t.renderKey,attrs:{"drawing-list":e.drawingList,element:t,index:n,"active-id":e.activeId,"form-conf":e.formConf},on:{activeItem:e.activeFormItem,copyItem:e.drawingItemCopy,deleteItem:e.drawingItemDelete}})})),1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.drawingList.length,expression:"!drawingList.length"}],staticClass:"empty-info"},[e._v("\n            从左侧拖入或点选组件进行表单设计\n          ")])],1)],1)],1)],1),e._v(" "),a("right-panel",{attrs:{"active-data":e.activeData,"form-conf":e.formConf,"show-field":!!e.drawingList.length},on:{"tag-change":e.tagChange}}),e._v(" "),a("code-type-dialog",{attrs:{visible:e.dialogVisible,title:"选择生成类型","show-file-name":e.showFileName},on:{"update:visible":function(t){e.dialogVisible=t},confirm:e.generate}}),e._v(" "),a("input",{attrs:{id:"copyNode",type:"hidden"}})],1)},i=[],r=(a("20d6"),a("7618")),s=(a("456d"),a("ac6a"),a("db72")),c=(a("a481"),a("1980")),u=a.n(c),d=a("21a6"),m=a("e552"),p=a.n(m),f=a("b311"),v=a.n(f),h=a("a85b"),b=a("766b"),_=a("2e2a"),g=a("ed08");a("7f7f");function y(e){return'<el-dialog v-bind="$attrs" v-on="$listeners" @open="onOpen" @close="onClose" title="Dialog Titile">\n    '.concat(e,'\n    <div slot="footer">\n      <el-button @click="close">取消</el-button>\n      <el-button type="primary" @click="handelConfirm">确定</el-button>\n    </div>\n  </el-dialog>')}function w(e){return"<template>\n    <div>\n      ".concat(e,"\n    </div>\n  </template>")}function k(e){return"<script>\n    ".concat(e,"\n  <\/script>")}function x(e){return"<style>\n    ".concat(e,"\n  </style>")}function C(e,t,a){var n="";"right"!==e.labelPosition&&(n='label-position="'.concat(e.labelPosition,'"'));var l=e.disabled?':disabled="'.concat(e.disabled,'"'):"",i='<el-form ref="'.concat(e.formRef,'" :model="').concat(e.formModel,'" :rules="').concat(e.formRules,'" size="').concat(e.size,'" ').concat(l,' label-width="').concat(e.labelWidth,'px" ').concat(n,">\n      ").concat(t,"\n      ").concat(D(e,a),"\n    </el-form>");return o&&(i='<el-row :gutter="'.concat(e.gutter,'">\n        ').concat(i,"\n      </el-row>")),i}function D(e,t){var a="";return e.formBtns&&"file"===t&&(a='<el-form-item size="large">\n          <el-button type="primary" @click="submitForm">提交</el-button>\n          <el-button @click="resetForm">重置</el-button>\n        </el-form-item>',o&&(a='<el-col :span="24">\n          '.concat(a,"\n        </el-col>"))),a}function P(e,t){return o||24!==e.span?'<el-col :span="'.concat(e.span,'">\n      ').concat(t,"\n    </el-col>"):t}var O={colFormItem:function(e){var t="";e.labelWidth&&e.labelWidth!==n.labelWidth&&(t='label-width="'.concat(e.labelWidth,'px"'));var a=!_["e"][e.tag]&&e.required?"required":"",o=$[e.tag]?$[e.tag](e):null,l="<el-form-item ".concat(t,' label="').concat(e.label,'" prop="').concat(e.vModel,'" ').concat(a,">\n        ").concat(o,"\n      </el-form-item>");return l=P(e,l),l},rowFormItem:function(e){var t="default"===e.type?"":'type="'.concat(e.type,'"'),a="default"===e.type?"":'justify="'.concat(e.justify,'"'),n="default"===e.type?"":'align="'.concat(e.align,'"'),o=e.gutter?'gutter="'.concat(e.gutter,'"'):"",l=e.children.map((function(e){return O[e.layout](e)})),i="<el-row ".concat(t," ").concat(a," ").concat(n," ").concat(o,">\n      ").concat(l.join("\n"),"\n    </el-row>");return i=P(e,i),i}},$={"el-input":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,r=e.maxlength?':maxlength="'.concat(e.maxlength,'"'):"",s=e["show-word-limit"]?"show-word-limit":"",c=e.readonly?"readonly":"",u=e["prefix-icon"]?"prefix-icon='".concat(e["prefix-icon"],"'"):"",d=e["suffix-icon"]?"suffix-icon='".concat(e["suffix-icon"],"'"):"",m=e["show-password"]?"show-password":"",p=e.type?'type="'.concat(e.type,'"'):"",f=e.autosize&&e.autosize.minRows?':autosize="{minRows: '.concat(e.autosize.minRows,", maxRows: ").concat(e.autosize.maxRows,'}"'):"",v=T(e);return v&&(v="\n".concat(v,"\n")),"<".concat(e.tag," ").concat(n," ").concat(p," ").concat(l," ").concat(r," ").concat(s," ").concat(c," ").concat(a," ").concat(o," ").concat(u," ").concat(d," ").concat(m," ").concat(f," ").concat(i,">").concat(v,"</").concat(e.tag,">")},"el-input-number":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=t.placeholder,l=e["controls-position"]?"controls-position=".concat(e["controls-position"]):"",i=e.min?":min='".concat(e.min,"'"):"",r=e.max?":max='".concat(e.max,"'"):"",s=e.step?":step='".concat(e.step,"'"):"",c=e["step-strictly"]?"step-strictly":"",u=e.precision?":precision='".concat(e.precision,"'"):"";return"<".concat(e.tag," ").concat(n," ").concat(o," ").concat(s," ").concat(c," ").concat(u," ").concat(l," ").concat(i," ").concat(r," ").concat(a,"></").concat(e.tag,">")},"el-select":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,r=e.filterable?"filterable":"",s=e.multiple?"multiple":"",c=S(e);return c&&(c="\n".concat(c,"\n")),"<".concat(e.tag," ").concat(n," ").concat(l," ").concat(a," ").concat(s," ").concat(r," ").concat(o," ").concat(i,">").concat(c,"</").concat(e.tag,">")},"el-radio-group":function(e){var t=q(e),a=t.disabled,n=t.vModel,o='size="'.concat(e.size,'"'),l=E(e);return l&&(l="\n".concat(l,"\n")),"<".concat(e.tag," ").concat(n," ").concat(o," ").concat(a,">").concat(l,"</").concat(e.tag,">")},"el-checkbox-group":function(e){var t=q(e),a=t.disabled,n=t.vModel,o='size="'.concat(e.size,'"'),l=e.min?':min="'.concat(e.min,'"'):"",i=e.max?':max="'.concat(e.max,'"'):"",r=L(e);return r&&(r="\n".concat(r,"\n")),"<".concat(e.tag," ").concat(n," ").concat(l," ").concat(i," ").concat(o," ").concat(a,">").concat(r,"</").concat(e.tag,">")},"el-switch":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=e["active-text"]?'active-text="'.concat(e["active-text"],'"'):"",l=e["inactive-text"]?'inactive-text="'.concat(e["inactive-text"],'"'):"",i=e["active-color"]?'active-color="'.concat(e["active-color"],'"'):"",r=e["inactive-color"]?'inactive-color="'.concat(e["inactive-color"],'"'):"",s=!0!==e["active-value"]?":active-value='".concat(JSON.stringify(e["active-value"]),"'"):"",c=!1!==e["inactive-value"]?":inactive-value='".concat(JSON.stringify(e["inactive-value"]),"'"):"";return"<".concat(e.tag," ").concat(n," ").concat(o," ").concat(l," ").concat(i," ").concat(r," ").concat(s," ").concat(c," ").concat(a,"></").concat(e.tag,">")},"el-cascader":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,r=e.options?':options="'.concat(e.vModel,'Options"'):"",s=e.props?':props="'.concat(e.vModel,'Props"'):"",c=e["show-all-levels"]?"":':show-all-levels="false"',u=e.filterable?"filterable":"",d="/"===e.separator?"":'separator="'.concat(e.separator,'"');return"<".concat(e.tag," ").concat(n," ").concat(r," ").concat(s," ").concat(i," ").concat(c," ").concat(l," ").concat(d," ").concat(u," ").concat(o," ").concat(a,"></").concat(e.tag,">")},"el-slider":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=e.min?":min='".concat(e.min,"'"):"",l=e.max?":max='".concat(e.max,"'"):"",i=e.step?":step='".concat(e.step,"'"):"",r=e.range?"range":"",s=e["show-stops"]?':show-stops="'.concat(e["show-stops"],'"'):"";return"<".concat(e.tag," ").concat(o," ").concat(l," ").concat(i," ").concat(n," ").concat(r," ").concat(s," ").concat(a,"></").concat(e.tag,">")},"el-time-picker":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,r=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",s=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e["is-range"]?"is-range":"",d=e.format?'format="'.concat(e.format,'"'):"",m=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",p=e["picker-options"]?":picker-options='".concat(JSON.stringify(e["picker-options"]),"'"):"";return"<".concat(e.tag," ").concat(n," ").concat(u," ").concat(d," ").concat(m," ").concat(p," ").concat(i," ").concat(l," ").concat(r," ").concat(s," ").concat(c," ").concat(o," ").concat(a,"></").concat(e.tag,">")},"el-date-picker":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=t.clearable,l=t.placeholder,i=t.width,r=e["start-placeholder"]?'start-placeholder="'.concat(e["start-placeholder"],'"'):"",s=e["end-placeholder"]?'end-placeholder="'.concat(e["end-placeholder"],'"'):"",c=e["range-separator"]?'range-separator="'.concat(e["range-separator"],'"'):"",u=e.format?'format="'.concat(e.format,'"'):"",d=e["value-format"]?'value-format="'.concat(e["value-format"],'"'):"",m="date"===e.type?"":'type="'.concat(e.type,'"'),p=e.readonly?"readonly":"";return"<".concat(e.tag," ").concat(m," ").concat(n," ").concat(u," ").concat(d," ").concat(i," ").concat(l," ").concat(r," ").concat(s," ").concat(c," ").concat(o," ").concat(p," ").concat(a,"></").concat(e.tag,">")},"el-rate":function(e){var t=q(e),a=t.disabled,n=t.vModel,o=(e.max&&":max='".concat(e.max,"'"),e["allow-half"]?"allow-half":""),l=e["show-text"]?"show-text":"",i=e["show-score"]?"show-score":"";return"<".concat(e.tag," ").concat(n," ").concat(o," ").concat(l," ").concat(i," ").concat(a,"></").concat(e.tag,">")},"el-color-picker":function(e){var t=q(e),a=t.disabled,n=t.vModel,o='size="'.concat(e.size,'"'),l=e["show-alpha"]?"show-alpha":"",i=e["color-format"]?'color-format="'.concat(e["color-format"],'"'):"";return"<".concat(e.tag," ").concat(n," ").concat(o," ").concat(l," ").concat(i," ").concat(a,"></").concat(e.tag,">")},"el-upload":function(e){var t=e.disabled?":disabled='true'":"",a=e.action?':action="'.concat(e.vModel,'Action"'):"",n=e.multiple?"multiple":"",o="text"!==e["list-type"]?'list-type="'.concat(e["list-type"],'"'):"",l=e.accept?'accept="'.concat(e.accept,'"'):"",i="file"!==e.name?'name="'.concat(e.name,'"'):"",r=!1===e["auto-upload"]?':auto-upload="false"':"",s=':before-upload="'.concat(e.vModel,'BeforeUpload"'),c=':file-list="'.concat(e.vModel,'fileList"'),u='ref="'.concat(e.vModel,'"'),d=z(e);return d&&(d="\n".concat(d,"\n")),"<".concat(e.tag," ").concat(u," ").concat(c," ").concat(a," ").concat(r," ").concat(n," ").concat(s," ").concat(o," ").concat(l," ").concat(i," ").concat(t,">").concat(d,"</").concat(e.tag,">")}};function q(e){return{vModel:'v-model="'.concat(n.formModel,".").concat(e.vModel,'"'),clearable:e.clearable?"clearable":"",placeholder:e.placeholder?'placeholder="'.concat(e.placeholder,'"'):"",width:e.style&&e.style.width?":style=\"{width: '100%'}\"":"",disabled:e.disabled?":disabled='true'":""}}function T(e){var t=[];return e.prepend&&t.push('<template slot="prepend">'.concat(e.prepend,"</template>")),e.append&&t.push('<template slot="append">'.concat(e.append,"</template>")),t.join("\n")}function S(e){var t=[];return e.options&&e.options.length&&t.push('<el-option v-for="(item, index) in '.concat(e.vModel,'Options" :key="index" :label="item.label" :value="item.value" :disabled="item.disabled"></el-option>')),t.join("\n")}function E(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-radio-button":"el-radio",n=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(n,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function L(e){var t=[];if(e.options&&e.options.length){var a="button"===e.optionType?"el-checkbox-button":"el-checkbox",n=e.border?"border":"";t.push("<".concat(a,' v-for="(item, index) in ').concat(e.vModel,'Options" :key="index" :label="item.value" :disabled="item.disabled" ').concat(n,">{{item.label}}</").concat(a,">"))}return t.join("\n")}function z(e){var t=[];return"picture-card"===e["list-type"]?t.push('<i class="el-icon-plus"></i>'):t.push('<el-button size="small" type="primary" icon="el-icon-upload">'.concat(e.buttonText,"</el-button>")),e.showTip&&t.push('<div slot="tip" class="el-upload__tip">只能上传不超过 '.concat(e.fileSize).concat(e.sizeUnit," 的").concat(e.accept,"文件</div>")),t.join("\n")}function N(e,t){var a=[];n=e,o=e.fields.some((function(e){return 24!==e.span})),e.fields.forEach((function(e){a.push(O[e.layout](e))}));var l=a.join("\n"),i=C(e,l,t);return"dialog"===t&&(i=y(i)),n=null,i}var j=a("80de"),I={"el-rate":".el-rate{display: inline-block; vertical-align: text-top;}","el-upload":".el-upload__tip{line-height: 1.2;}"};function F(e,t){var a=I[t.tag];a&&-1===e.indexOf(a)&&e.push(a),t.children&&t.children.forEach((function(t){return F(e,t)}))}function M(e){var t=[];return e.fields.forEach((function(e){return F(t,e)})),t.join("\n")}var A,U,B=[{layout:"colFormItem",tagIcon:"input",label:"手机号",vModel:"mobile",formId:6,tag:"el-input",placeholder:"请输入手机号",defaultValue:"",span:24,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1,required:!0,changeTag:!0,regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]}],R=a("81a5"),Q=a.n(R),V=a("a92a"),G=a("4923"),W={components:{draggable:u.a,render:h["a"],RightPanel:b["default"],CodeTypeDialog:V["default"],DraggableItem:G["default"]},data:function(){return{logo:Q.a,idGlobal:100,formConf:_["a"],inputComponents:_["b"],selectComponents:_["d"],layoutComponents:_["c"],labelWidth:100,drawingList:B,drawingData:{},activeId:B[0].formId,drawerVisible:!1,formData:{},dialogVisible:!1,generateConf:null,showFileName:!1,activeData:B[0]}},computed:{},watch:{"activeData.label":function(e,t){void 0!==this.activeData.placeholder&&this.activeData.tag&&A===this.activeId&&(this.activeData.placeholder=this.activeData.placeholder.replace(t,"")+e)},activeId:{handler:function(e){A=e},immediate:!0}},mounted:function(){var e=this,t=new v.a("#copyNode",{text:function(t){var a=e.generateCode();return e.$notify({title:"成功",message:"代码已复制到剪切板，可粘贴。",type:"success"}),a}});t.on("error",(function(t){e.$message.error("代码复制失败")}))},methods:{activeFormItem:function(e){this.activeData=e,this.activeId=e.formId},onEnd:function(e,t){e.from!==e.to&&(this.activeData=U,this.activeId=this.idGlobal)},addComponent:function(e){var t=this.cloneComponent(e);this.drawingList.push(t),this.activeFormItem(t)},cloneComponent:function(e){var t=JSON.parse(JSON.stringify(e));return t.formId=++this.idGlobal,t.span=_["a"].span,t.renderKey=+new Date,t.layout||(t.layout="colFormItem"),"colFormItem"===t.layout?(t.vModel="field".concat(this.idGlobal),void 0!==t.placeholder&&(t.placeholder+=t.label),U=t):"rowFormItem"===t.layout&&(delete t.label,t.componentName="row".concat(this.idGlobal),t.gutter=this.formConf.gutter,U=t),U},AssembleFormData:function(){this.formData=Object(s["a"])({fields:JSON.parse(JSON.stringify(this.drawingList))},this.formConf)},generate:function(e){var t=this["exec".concat(Object(g["h"])(this.operationType))];this.generateConf=e,t&&t(e)},execRun:function(e){this.AssembleFormData(),this.drawerVisible=!0},execDownload:function(e){var t=this.generateCode(),a=new Blob([t],{type:"text/plain;charset=utf-8"});Object(d["saveAs"])(a,e.fileName)},execCopy:function(e){document.getElementById("copyNode").click()},empty:function(){var e=this;this.$confirm("确定要清空所有组件吗？","提示",{type:"warning"}).then((function(){e.drawingList=[]}))},drawingItemCopy:function(e,t){var a=JSON.parse(JSON.stringify(e));a=this.createIdAndKey(a),t.push(a),this.activeFormItem(a)},createIdAndKey:function(e){var t=this;return e.formId=++this.idGlobal,e.renderKey=+new Date,"colFormItem"===e.layout?e.vModel="field".concat(this.idGlobal):"rowFormItem"===e.layout&&(e.componentName="row".concat(this.idGlobal)),Array.isArray(e.children)&&(e.children=e.children.map((function(e){return t.createIdAndKey(e)}))),e},drawingItemDelete:function(e,t){var a=this;t.splice(e,1),this.$nextTick((function(){var e=a.drawingList.length;e&&a.activeFormItem(a.drawingList[e-1])}))},generateCode:function(){var e=this.generateConf.type;this.AssembleFormData();var t=k(Object(j["a"])(this.formData,e)),a=w(N(this.formData,e)),n=x(M(this.formData));return p.a.html(a+t+n,g["b"].html)},download:function(){this.dialogVisible=!0,this.showFileName=!0,this.operationType="download"},run:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="run"},copy:function(){this.dialogVisible=!0,this.showFileName=!1,this.operationType="copy"},tagChange:function(e){var t=this;e=this.cloneComponent(e),e.vModel=this.activeData.vModel,e.formId=this.activeId,e.span=this.activeData.span,delete this.activeData.tag,delete this.activeData.tagIcon,delete this.activeData.document,Object.keys(e).forEach((function(a){void 0!==t.activeData[a]&&Object(r["a"])(t.activeData[a])===Object(r["a"])(e[a])&&(e[a]=t.activeData[a])})),this.activeData=e,this.updateDrawingList(e,this.drawingList)},updateDrawingList:function(e,t){var a=this,n=t.findIndex((function(e){return e.formId===a.activeId}));n>-1?t.splice(n,1,e):t.forEach((function(t){Array.isArray(t.children)&&a.updateDrawingList(e,t.children)}))}}},K=W,H=(a("1a2c"),a("2877")),J=Object(H["a"])(K,l,i,!1,null,null,null);t["default"]=J.exports},2858:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20,xs:24}},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n          ")])],1)],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"row-key":"id",data:e.listNodeCategory,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"Id",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"是否首页导航"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_index_navigation?a("el-tag",{attrs:{type:"primary"}},[e._v("否")]):e._e(),e._v(" "),1===t.row.is_index_navigation?a("el-tag",{attrs:{type:"success"}},[e._v("是")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"顺序",prop:"sort","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!==t.row.is_disabled_edit?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑\n        ")]):e._e(),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/menu"],expression:"['PUT:/system/menu']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增\n        ")]),e._v(" "),1!==t.row.is_disabled_edit?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级节点"}},[a("treeselect",{attrs:{options:e.nodeOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级节点"},model:{value:e.form.parent_id,callback:function(t){e.$set(e.form,"parent_id",t)},expression:"form.parent_id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"首页导航"}},[a("el-radio-group",{model:{value:e.form.is_index_navigation,callback:function(t){e.$set(e.form,"is_index_navigation",t)},expression:"form.is_index_navigation"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"顺序",prop:"sort"}},[a("el-input",{attrs:{placeholder:"越小越靠前"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("7f7f"),a("1540")),i=a("ca17"),r=a.n(i),s=(a("542c"),{name:"node_category_index",components:{Treeselect:r.a},data:function(){return{loading:!0,total:0,nodeOptions:[],open:!1,form:{},title:"",listNodeCategory:[],queryParams:{page:1,size:20},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["A"])(this.queryParams).then((function(t){e.listNodeCategory=e.handleTree(t.data.list),console.log(JSON.parse(JSON.stringify(e.listNodeCategory))),e.total=t.data.total,e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={name:"",keyword:"",description:"",detail:"",img:"",parent_id:0,is_index:0,sort:0,remote_image_url:"",is_index_navigation:0},this.resetForm("form")},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parent_id=e.id),this.open=!0,this.title="添加节点"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(l["u"])(e.id).then((function(e){t.form=e.data,t.open=!0,t.title="修改节点"}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["o"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},submitForm:function(){var e=this;void 0===this.form.id?Object(l["N"])(this.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(l["P"])(this.form).then((function(t){0===t.code?(e.msgSuccess("更新成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))},getTreeselect:function(){var e=this;Object(l["A"])().then((function(t){e.nodeOptions=[],console.log(t);var a={id:0,name:"根节点",children:[]};a.children=e.handleTree(t.data.list),e.nodeOptions.push(a)}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAvatarSuccess:function(e,t){console.log(e,1111,e.data.url),this.form.img=e.data.url},beforeAvatarUpload:function(e){return!0},downloadRemote:function(){var e=this;nodeDownloadRemoteImage({image_url:this.form.remote_image_url}).then((function(t){0===t.code?e.form.img=t.data.url:e.msgError(t.msg)}))}}}),c=s,u=(a("2f96"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports},"287c":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20,xs:24}},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n          ")])],1)],1)],1)],1),e._v(" "),a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"节点名称",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入节点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"row-key":"id",data:e.listNode,"tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{label:"Id",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"名称",prop:"name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"分类",prop:"node_category.name","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"关键词",prop:"keyword","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"节点图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.img,width:"70px",alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"是否首页显示"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.is_index?a("el-tag",{attrs:{type:"primary"}},[e._v("否")]):e._e(),e._v(" "),1==t.row.is_index?a("el-tag",{attrs:{type:"success"}},[e._v("是")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[1!==t.row.is_disabled_edit?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("编辑\n        ")]):e._e(),e._v(" "),1!==t.row.is_disabled_edit?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/menu"],expression:"['PUT:/system/menu']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增\n        ")]):e._e(),e._v(" "),1!==t.row.is_disabled_edit?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")]):e._e()]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级节点"}},[a("treeselect",{attrs:{options:e.nodeOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级节点"},model:{value:e.form.parent_id,callback:function(t){e.$set(e.form,"parent_id",t)},expression:"form.parent_id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"节点分类"}},[a("treeselect",{attrs:{options:e.nodeCategoryOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择节点分类"},model:{value:e.form.category_id,callback:function(t){e.$set(e.form,"category_id",t)},expression:"form.category_id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"关键词",prop:"keyword"}},[a("el-input",{attrs:{placeholder:"请输入关键词，用于url等，不可重复"},model:{value:e.form.keyword,callback:function(t){e.$set(e.form,"keyword",t)},expression:"form.keyword"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上传|下载 节点图片",prop:"img"}},[a("el-input",{staticClass:"input-with-select",staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"输入图片链接或选择下方上传"},model:{value:e.form.remote_image_url,callback:function(t){e.$set(e.form,"remote_image_url",t)},expression:"form.remote_image_url"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.downloadRemote},slot:"append"})],1),e._v(" "),a("el-upload",{staticClass:"node-img-uploader",attrs:{action:"/admin/node-upload-img","show-file-list":!1,name:"node_img","on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.form.img?a("img",{staticClass:"node-img",attrs:{src:e.form.img}}):a("i",{staticClass:"el-icon-plus node-img-uploader-icon"})])],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.description,expression:"form.description"}],staticStyle:{width:"100%"},attrs:{name:"",cols:"30",rows:"10"},domProps:{value:e.form.description},on:{input:function(t){t.target.composing||e.$set(e.form,"description",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"详情",prop:"detail"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.detail,expression:"form.detail"}],attrs:{name:"",cols:"30",rows:"10"},domProps:{value:e.form.detail},on:{input:function(t){t.target.composing||e.$set(e.form,"detail",t.target.value)}}})])],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"首页固定"}},[a("el-radio-group",{model:{value:e.form.is_index,callback:function(t){e.$set(e.form,"is_index",t)},expression:"form.is_index"}},[a("el-radio",{attrs:{label:1}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:0}},[e._v("否")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"顺序",prop:"sort"}},[a("el-input",{attrs:{placeholder:"越小越靠前"},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("7f7f"),a("1540")),i=a("ca17"),r=a.n(i),s=(a("542c"),{name:"node_index",components:{Treeselect:r.a},data:function(){return{loading:!0,total:0,nodeOptions:[],nodeCategoryOptions:[],open:!1,form:{},title:"",listNode:[],queryParams:{page:1,size:10},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],keyword:[{required:!0,message:"请输入关键词",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["z"])(this.queryParams).then((function(t){e.listNode=e.handleTree(t.data.list),console.log(JSON.parse(JSON.stringify(e.listNode))),e.loading=!1}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={name:"",keyword:"",description:"",detail:"",img:"",parent_id:0,category_id:0,is_index:0,sort:0,remote_image_url:""},this.resetForm("form")},handleAdd:function(e){this.reset(),this.getNodeTreeSelect(),this.getNodeCategoryTreeSelect(),null!=e&&(this.form.parent_id=e.id),this.open=!0,this.title="添加节点"},handleUpdate:function(e){var t=this;this.reset(),this.getNodeTreeSelect(),this.getNodeCategoryTreeSelect(),Object(l["t"])({id:e.id}).then((function(e){t.form=e.data,t.open=!0,t.title="修改节点"}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除编号为"'+e.id+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["n"])({id:e.id})})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},submitForm:function(){var e=this;void 0===this.form.id?Object(l["M"])(this.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(l["O"])(this.form).then((function(t){0===t.code?(e.msgSuccess("更新成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))},getNodeTreeSelect:function(){var e=this;Object(l["z"])().then((function(t){e.nodeOptions=[],console.log(t);var a={id:0,name:"根节点",children:[]};a.children=e.handleTree(t.data.list),e.nodeOptions.push(a)}))},getNodeCategoryTreeSelect:function(){var e=this;Object(l["A"])().then((function(t){e.nodeCategoryOptions=[],console.log(t);var a={id:0,name:"根节点",children:[]};a.children=e.handleTree(t.data.list),e.nodeCategoryOptions.push(a)}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleAvatarSuccess:function(e,t){console.log(e,1111,e.data.url),this.form.img=e.data.url},beforeAvatarUpload:function(e){return!0},downloadRemote:function(){var e=this;Object(l["G"])({image_url:this.form.remote_image_url}).then((function(t){0===t.code?e.form.img=t.data.url:e.msgError(t.msg)}))}}}),c=s,u=(a("7718"),a("2877")),d=Object(u["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports},"294e":function(e,t,a){"use strict";a("e7d3")},"2c7d":function(e,t,a){"use strict";a("d1c2")},"2e05":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[a("el-input",{attrs:{maxlength:"11"},model:{value:e.user.phonenumber,callback:function(t){e.$set(e.user,"phonenumber",t)},expression:"user.phonenumber"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{maxlength:"50"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio-group",{model:{value:e.user.sex,callback:function(t){e.$set(e.user,"sex",t)},expression:"user.sex"}},[a("el-radio",{attrs:{label:"0"}},[e._v("男")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v("女")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)},o=[],l=a("c0c7"),i={props:{user:{type:Object}},data:function(){return{rules:{user_name:[{required:!0,message:"用户昵称不能为空",trigger:"blur"}],email:[{required:!0,message:"邮箱地址不能为空",trigger:"blur"},{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phonenumber:[{required:!0,message:"手机号码不能为空",trigger:"blur"},{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},methods:{submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(l["updateUserProfile"])(e.user).then((function(t){0===t.code?e.msgSuccess("修改成功"):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},"2e2a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return r}));var n={formRef:"elForm",formModel:"formData",size:"medium",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0},o=[{label:"单行文本",tag:"el-input",tagIcon:"input",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"多行文本",tag:"el-input",tagIcon:"textarea",type:"textarea",placeholder:"请输入",defaultValue:void 0,span:24,labelWidth:null,autosize:{minRows:4,maxRows:4},style:{width:"100%"},maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"密码",tag:"el-input",tagIcon:"password",placeholder:"请输入",defaultValue:void 0,span:24,"show-password":!0,labelWidth:null,style:{width:"100%"},clearable:!0,prepend:"",append:"","prefix-icon":"","suffix-icon":"",maxlength:null,"show-word-limit":!1,readonly:!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input"},{label:"计数器",tag:"el-input-number",tagIcon:"number",placeholder:"",defaultValue:void 0,span:24,labelWidth:null,min:void 0,max:void 0,step:void 0,"step-strictly":!1,precision:void 0,"controls-position":"",disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/input-number"}],l=[{label:"下拉选择",tag:"el-select",tagIcon:"select",placeholder:"请选择",defaultValue:void 0,span:24,labelWidth:null,style:{width:"100%"},clearable:!0,disabled:!1,required:!0,filterable:!1,multiple:!1,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/select"},{label:"级联选择",tag:"el-cascader",tagIcon:"cascader",placeholder:"请选择",defaultValue:[],span:24,labelWidth:null,style:{width:"100%"},props:{props:{multiple:!1}},"show-all-levels":!0,disabled:!1,clearable:!0,filterable:!1,required:!0,options:[{id:1,value:1,label:"选项1",children:[{id:2,value:2,label:"选项1-1"}]}],dataType:"dynamic",labelKey:"label",valueKey:"value",childrenKey:"children",separator:"/",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/cascader"},{label:"单选框组",tag:"el-radio-group",tagIcon:"radio",defaultValue:void 0,span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/radio"},{label:"多选框组",tag:"el-checkbox-group",tagIcon:"checkbox",defaultValue:[],span:24,labelWidth:null,style:{},optionType:"default",border:!1,size:"medium",disabled:!1,required:!0,options:[{label:"选项一",value:1},{label:"选项二",value:2}],regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/checkbox"},{label:"开关",tag:"el-switch",tagIcon:"switch",defaultValue:!1,span:24,labelWidth:null,style:{},disabled:!1,required:!0,"active-text":"","inactive-text":"","active-color":null,"inactive-color":null,"active-value":!0,"inactive-value":!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/switch"},{label:"滑块",tag:"el-slider",tagIcon:"slider",defaultValue:null,span:24,labelWidth:null,disabled:!1,required:!0,min:0,max:100,step:1,"show-stops":!1,range:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/slider"},{label:"时间选择",tag:"el-time-picker",tagIcon:"time",placeholder:"请选择",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"picker-options":{selectableRange:"00:00:00-23:59:59"},format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"时间范围",tag:"el-time-picker",tagIcon:"time-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,"is-range":!0,"range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",format:"HH:mm:ss","value-format":"HH:mm:ss",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/time-picker"},{label:"日期选择",tag:"el-date-picker",tagIcon:"date",placeholder:"请选择",defaultValue:null,type:"date",span:24,labelWidth:null,style:{width:"100%"},disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"日期范围",tag:"el-date-picker",tagIcon:"date-range",defaultValue:null,span:24,labelWidth:null,style:{width:"100%"},type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:!1,clearable:!0,required:!0,format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",readonly:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/date-picker"},{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,labelWidth:null,style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate"},{label:"颜色选择",tag:"el-color-picker",tagIcon:"color",defaultValue:null,labelWidth:null,"show-alpha":!1,"color-format":"",disabled:!1,required:!0,size:"medium",regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/color-picker"},{label:"上传",tag:"el-upload",tagIcon:"upload",action:"https://jsonplaceholder.typicode.com/posts/",defaultValue:null,labelWidth:null,disabled:!1,required:!0,accept:"",name:"file","auto-upload":!0,showTip:!1,buttonText:"点击上传",fileSize:2,sizeUnit:"MB","list-type":"text",multiple:!1,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/upload"}],i=[{layout:"rowFormItem",tagIcon:"row",type:"default",justify:"start",align:"top",label:"行容器",layoutTree:!0,children:[],document:"https://element.eleme.cn/#/zh-CN/component/layout"}],r={"el-input":"blur","el-input-number":"blur","el-select":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"}},"2f96":function(e,t,a){"use strict";a("902c")},"316b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"类型",prop:"businessType"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"管理员名称",clearable:"",size:"small"},model:{value:e.queryParams.admin_id,callback:function(t){e.$set(e.queryParams,"admin_id",t)},expression:"queryParams.admin_id"}},e._l(e.adminMap,(function(e,t,n){return a("el-option",{key:n,attrs:{label:e,value:t}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"请求路径",prop:"path"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入请求路径",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.path,callback:function(t){e.$set(e.queryParams,"path",t)},expression:"queryParams.path"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"编号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"管理员名称",align:"center",prop:"admin_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"请求路径",align:"center",prop:"path"}}),e._v(" "),a("el-table-column",{attrs:{label:"路径名称",align:"center",prop:"path_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"请求方法",align:"center",prop:"method"}}),e._v(" "),a("el-table-column",{attrs:{label:"请求参数",align:"center",prop:"params","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"响应结果",align:"center",prop:"response","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"操作日期",align:"center",prop:"oper_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}})],1)},o=[],l=a("b775");function i(e){return Object(l["a"])({url:"/operation-log-list",method:"get",params:e})}var r={name:"OperationLog",data:function(){return{loading:!1,queryParams:{page:1,size:10,path:"",admin_id:""},list:[],total:0,adminMap:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.list=t.data.list,e.total=t.data.total,e.loading=!1,e.adminMap=t.data.administrator_map}))},handleQuery:function(){this.queryParams.page=1,this.getList()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})).join(","),this.multiple=!e.length}}},s=r,c=a("2877"),u=Object(c["a"])(s,n,o,!1,null,null,null);t["default"]=u.exports},"3a7e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icons-container"},[e._m(0),e._v(" "),a("el-tabs",{attrs:{type:"border-card"}},[a("el-tab-pane",{attrs:{label:"Icons"}},e._l(e.svgIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.generateIconCode(t))+"\n          ")]),e._v(" "),a("div",{staticClass:"icon-item"},[a("svg-icon",{attrs:{"icon-class":t,"class-name":"disabled"}}),e._v(" "),a("span",[e._v(e._s(t))])],1)])],1)})),0),e._v(" "),a("el-tab-pane",{attrs:{label:"Element-UI Icons"}},e._l(e.elementIcons,(function(t){return a("div",{key:t},[a("el-tooltip",{attrs:{placement:"top"}},[a("div",{attrs:{slot:"content"},slot:"content"},[e._v("\n            "+e._s(e.generateElementIconCode(t))+"\n          ")]),e._v(" "),a("div",{staticClass:"icon-item"},[a("i",{class:"el-icon-"+t}),e._v(" "),a("span",[e._v(e._s(t))])])])],1)})),0)],1)],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("aside",[a("a",{attrs:{href:"#",target:"_blank"}},[e._v("Add and use\n    ")])])}],l=a("c7e9"),i=a("bb49"),r={name:"Icons",data:function(){return{svgIcons:l["default"],elementIcons:i["default"]}},methods:{generateIconCode:function(e){return'<svg-icon icon-class="'.concat(e,'" />')},generateElementIconCode:function(e){return'<i class="el-icon-'.concat(e,'" />')}}},s=r,c=(a("4099"),a("2877")),u=Object(c["a"])(s,n,o,!1,null,"101db740",null);t["default"]=u.exports},"3bcd":function(e,t,a){},4099:function(e,t,a){"use strict";a("a8a2")},4390:function(e,t,a){},4671:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"网站设置",name:"site"}},[a("el-form",{ref:"form",attrs:{model:e.forum,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"网站名称"}},[a("el-input",{model:{value:e.forum.site_name,callback:function(t){e.$set(e.forum,"site_name",t)},expression:"forum.site_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站slogan"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.forum.site_slogan,callback:function(t){e.$set(e.forum,"site_slogan",t)},expression:"forum.site_slogan"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站描述"}},[a("el-input",{attrs:{type:"textarea",rows:5,placeholder:"请输入内容"},model:{value:e.forum.site_description,callback:function(t){e.$set(e.forum,"site_description",t)},expression:"forum.site_description"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("会用于seo")])],1),e._v(" "),a("el-form-item",{attrs:{label:"网站域名"}},[a("el-input",{model:{value:e.forum.site_domain,callback:function(t){e.$set(e.forum,"site_domain",t)},expression:"forum.site_domain"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"网站logo"}},[a("el-upload",{staticClass:"uploader",attrs:{action:"/admin/upload-logo","show-file-list":!1,name:"logo","on-success":e.handleLogoSuccess}},[e.forum.logo?a("img",{staticClass:"config-upload-img",attrs:{src:e.forum.logo}}):a("i",{staticClass:"el-icon-plus uploader-icon"})])],1),e._v(" "),a("el-form-item",{attrs:{label:"网站favicon"}},[a("el-upload",{staticClass:"uploader",attrs:{action:"/admin/upload-favicon","show-file-list":!1,name:"favicon","on-success":e.handleFaviconSuccess}},[e.forum.favicon?a("img",{staticClass:"config-upload-img",attrs:{src:e.forum.favicon}}):a("i",{staticClass:"el-icon-plus uploader-icon"})])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"主题设置",name:"post"}},[a("el-form",{ref:"form",attrs:{model:e.forum,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"发帖是否需要后台审核"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.forum.posts_is_need_audit,callback:function(t){e.$set(e.forum,"posts_is_need_audit",t)},expression:"forum.posts_is_need_audit"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.forum.posts_is_need_audit,callback:function(t){e.$set(e.forum,"posts_is_need_audit",t)},expression:"forum.posts_is_need_audit"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{attrs:{label:"每天最大发帖数量"}},[a("el-input-number",{attrs:{min:0,label:"每天最大发帖数量"},model:{value:e.forum.posts_every_day_max,callback:function(t){e.$set(e.forum,"posts_every_day_max",t)},expression:"forum.posts_every_day_max"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("为0不限制")])],1),e._v(" "),a("el-form-item",{attrs:{label:"发帖字符最大数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.posts_character_max,callback:function(t){e.$set(e.forum,"posts_character_max",t)},expression:"forum.posts_character_max"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("为0不限制")])],1),e._v(" "),a("el-form-item",{attrs:{label:"发帖修改有效时间(单位：min)"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.posts_can_update_time,callback:function(t){e.$set(e.forum,"posts_can_update_time",t)},expression:"forum.posts_can_update_time"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("为0不限制")])],1),e._v(" "),a("el-form-item",{attrs:{label:"发帖修改最大回复数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.posts_can_update_reply_amount,callback:function(t){e.$set(e.forum,"posts_can_update_reply_amount",t)},expression:"forum.posts_can_update_reply_amount"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("为0不限制")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"回复设置",name:"reply"}},[a("el-form",{ref:"form",attrs:{model:e.forum,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"回帖是否需要后台审核"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.forum.reply_is_need_audit,callback:function(t){e.$set(e.forum,"reply_is_need_audit",t)},expression:"forum.reply_is_need_audit"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.forum.reply_is_need_audit,callback:function(t){e.$set(e.forum,"reply_is_need_audit",t)},expression:"forum.reply_is_need_audit"}},[e._v("否")])],1),e._v(" "),a("el-form-item",{attrs:{label:"每天最大回复数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.reply_every_day_max,callback:function(t){e.$set(e.forum,"reply_every_day_max",t)},expression:"forum.reply_every_day_max"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("为0不限制")])],1),e._v(" "),a("el-form-item",{attrs:{label:"回复字符最大数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.reply_character_max,callback:function(t){e.$set(e.forum,"reply_character_max",t)},expression:"forum.reply_character_max"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("为0不限制")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"token设置",name:"token"}},[a("el-form",{ref:"form",attrs:{model:e.forum,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"注册赠送token数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.token_register_give,callback:function(t){e.$set(e.forum,"token_register_give",t)},expression:"forum.token_register_give"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"每日登录赠送token数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.token_login_give,callback:function(t){e.$set(e.forum,"token_login_give",t)},expression:"forum.token_login_give"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发帖扣除token数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.token_establish_posts_deduct,callback:function(t){e.$set(e.forum,"token_establish_posts_deduct",t)},expression:"forum.token_establish_posts_deduct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"修改帖子扣除token数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.token_update_posts_deduct,callback:function(t){e.$set(e.forum,"token_update_posts_deduct",t)},expression:"forum.token_update_posts_deduct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"回复扣除token数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.token_establish_reply_deduct,callback:function(t){e.$set(e.forum,"token_establish_reply_deduct",t)},expression:"forum.token_establish_reply_deduct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"感谢帖子扣除token数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.token_thanks_posts_deduct,callback:function(t){e.$set(e.forum,"token_thanks_posts_deduct",t)},expression:"forum.token_thanks_posts_deduct"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"感谢回复扣除token数量"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.token_thanks_reply_deduct,callback:function(t){e.$set(e.forum,"token_thanks_reply_deduct",t)},expression:"forum.token_thanks_reply_deduct"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"邮箱设置",name:"email"}},[a("el-form",{ref:"form",attrs:{model:e.forum,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"邮箱账号"}},[a("el-input",{model:{value:e.forum.email_user,callback:function(t){e.$set(e.forum,"email_user",t)},expression:"forum.email_user"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱SMTP密码"}},[a("el-input",{model:{value:e.forum.email_password,callback:function(t){e.$set(e.forum,"email_password",t)},expression:"forum.email_password"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("\n            不是邮箱密码,需要登陆你的邮箱，在设置，账号，启用IMAP/SMTP服务，会发送一段身份验证符号\n          ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱HOST"}},[a("el-input",{model:{value:e.forum.email_host,callback:function(t){e.$set(e.forum,"email_host",t)},expression:"forum.email_host"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发件人名称"}},[a("el-input",{model:{value:e.forum.email_send_name,callback:function(t){e.$set(e.forum,"email_send_name",t)},expression:"forum.email_send_name"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"注册相关",name:"register"}},[a("el-form",{ref:"form",attrs:{model:e.forum,"label-width":"200px"}},[a("el-form-item",{attrs:{label:"注册邮件发送时间间隔(单位小时)"}},[a("el-input-number",{attrs:{min:0},model:{value:e.forum.register_send_email_diff_hour,callback:function(t){e.$set(e.forum,"register_send_email_diff_hour",t)},expression:"forum.register_send_email_diff_hour"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"注册默认头像"}},[a("el-upload",{staticClass:"uploader",attrs:{action:"/admin/upload-default-avatar","show-file-list":!1,name:"avatar","on-success":e.handleAvatarSuccess}},[e.forum.register_default_avatar?a("img",{staticClass:"config-upload-img",attrs:{src:e.forum.default_avatar}}):a("i",{staticClass:"el-icon-plus uploader-icon"})])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)],1)],1)},o=[],l=a("c0c3"),i={data:function(){return{activeName:"site",forum:{favicon:void 0}}},created:function(){this.getConfigs()},methods:{getConfigs:function(){var e=this;Object(l["b"])({modules:["forum"]}).then((function(t){e.forum=t.data.data.forum,console.log(e.forum)}))},submit:function(){var e=this;Object(l["c"])("forum",this.forum).then((function(t){e.msgSuccess(t.message)}))},handleClick:function(e,t){console.log(e,t)},handleLogoSuccess:function(e,t){this.forum.logo=e.data.url+"?v"+Math.random()},handleAvatarSuccess:function(e,t){console.log(e.data),this.forum.default_avatar=e.data.url+"?v"+Math.random()},handleFaviconSuccess:function(e,t){this.forum.favicon=e.data.url+"?v"+Math.random(),console.log(this.forum.favicon)}}},r=i,s=(a("ac9f"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},4923:function(e,t,a){"use strict";a.r(t);var n=a("1980"),o=a.n(n),l=a("a85b"),i={itemBtns:function(e,t,a,n){var o=this.$listeners,l=o.copyItem,i=o.deleteItem;return[e("span",{class:"drawing-item-copy",attrs:{title:"复制"},on:{click:function(e){l(t,n),e.stopPropagation()}}},[e("i",{class:"el-icon-copy-document"})]),e("span",{class:"drawing-item-delete",attrs:{title:"删除"},on:{click:function(e){i(a,n),e.stopPropagation()}}},[e("i",{class:"el-icon-delete"})])]}},r={colFormItem:function(e,t,a,n){var o=this,r=this.$listeners.activeItem,s=this.activeId===t.formId?"drawing-item active-from-item":"drawing-item";return this.formConf.unFocusedComponentBorder&&(s+=" unfocus-bordered"),e("el-col",{attrs:{span:t.span},class:s,nativeOn:{click:function(e){r(t),e.stopPropagation()}}},[e("el-form-item",{attrs:{"label-width":t.labelWidth?"".concat(t.labelWidth,"px"):null,label:t.label,required:t.required}},[e(l["a"],{key:t.renderKey,attrs:{conf:t},on:{input:function(e){o.$set(t,"defaultValue",e)}}})]),i.itemBtns.apply(this,arguments)])},rowFormItem:function(e,t,a,n){var l=this.$listeners.activeItem,r=this.activeId===t.formId?"drawing-row-item active-from-item":"drawing-row-item",c=s.apply(this,arguments);return"flex"===t.type&&(c=e("el-row",{attrs:{type:t.type,justify:t.justify,align:t.align}},[c])),e("el-col",{attrs:{span:t.span}},[e("el-row",{attrs:{gutter:t.gutter},class:r,nativeOn:{click:function(e){l(t),e.stopPropagation()}}},[e("span",{class:"component-name"},[t.componentName]),e(o.a,{attrs:{list:t.children,animation:340,group:"componentsGroup"},class:"drag-wrapper"},[c]),i.itemBtns.apply(this,arguments)])])}};function s(e,t,a,n){var o=this;return Array.isArray(t.children)?t.children.map((function(a,n){var l=r[a.layout];return l?l.call(o,e,a,n,t.children):c()})):null}function c(){throw new Error("没有与".concat(this.element.layout,"匹配的layout"))}var u,d,m={components:{render:l["a"],draggable:o.a},props:["element","index","drawingList","activeId","formConf"],render:function(e){var t=r[this.element.layout];return t?t.call(this,e,this.element,this.index,this.drawingList):c()}},p=m,f=a("2877"),v=Object(f["a"])(p,u,d,!1,null,null,null);t["default"]=v.exports},"4a49":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],style:"height:"+e.height},[a("iframe",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.src,frameborder:"no",scrolling:"auto"}})])},o=[],l={name:"Swagger",data:function(){return{src:"/admin/swagger#/home",height:document.documentElement.clientHeight-94.5+"px;",loading:!0}},mounted:function(){var e=this;setTimeout((function(){e.loading=!1}),230);var t=this;window.onresize=function(){t.height=document.documentElement.clientHeight-94.5+"px;"}}},i=l,r=a("2877"),s=Object(r["a"])(i,n,o,!1,null,null,null);t["default"]=s.exports},"4b3b":function(e,t,a){var n={"./":"1e4b","./components/icons":"3a7e","./components/icons/":"3a7e","./components/icons/element-icons":"bb49","./components/icons/element-icons.js":"bb49","./components/icons/index":"3a7e","./components/icons/index.vue":"3a7e","./components/icons/svg-icons":"c7e9","./components/icons/svg-icons.js":"c7e9","./dashboard/BarChart":"9488","./dashboard/BarChart.vue":"9488","./dashboard/LineChart":"eab4","./dashboard/LineChart.vue":"eab4","./dashboard/PanelGroup":"fbc4","./dashboard/PanelGroup.vue":"fbc4","./dashboard/PieChart":"d153","./dashboard/PieChart.vue":"d153","./dashboard/RaddarChart":"0a5c","./dashboard/RaddarChart.vue":"0a5c","./dashboard/mixins/resize":"feb2","./dashboard/mixins/resize.js":"feb2","./error/401":"ec55","./error/401.vue":"ec55","./error/404":"2754","./error/404.vue":"2754","./forum/association":"ba3f","./forum/association/":"ba3f","./forum/association/index":"ba3f","./forum/association/index.vue":"ba3f","./forum/balance-log":"b0e7","./forum/balance-log/":"b0e7","./forum/balance-log/index":"b0e7","./forum/balance-log/index.vue":"b0e7","./forum/config":"4671","./forum/config/":"4671","./forum/config/index":"4671","./forum/config/index.vue":"4671","./forum/email-record":"9ec8","./forum/email-record/":"9ec8","./forum/email-record/index":"9ec8","./forum/email-record/index.vue":"9ec8","./forum/node":"287c","./forum/node-category":"2858","./forum/node-category/":"2858","./forum/node-category/index":"2858","./forum/node-category/index.vue":"2858","./forum/node/":"287c","./forum/node/index":"287c","./forum/node/index.vue":"287c","./forum/node/index_bak":"1a36","./forum/node/index_bak.vue":"1a36","./forum/post":"721e","./forum/post/":"721e","./forum/post/index":"721e","./forum/post/index.vue":"721e","./forum/prompt":"da24","./forum/prompt/":"da24","./forum/prompt/index":"da24","./forum/prompt/index.vue":"da24","./forum/reply":"d0c7","./forum/reply/":"d0c7","./forum/reply/index":"d0c7","./forum/reply/index.vue":"d0c7","./forum/sensitive":"2318","./forum/sensitive/":"2318","./forum/sensitive/index":"2318","./forum/sensitive/index.vue":"2318","./forum/user":"be5f","./forum/user/":"be5f","./forum/user/index":"be5f","./forum/user/index.vue":"be5f","./index":"1e4b","./index.vue":"1e4b","./login":"dd7b","./login.vue":"dd7b","./redirect":"9b8f","./redirect.vue":"9b8f","./system/administrator":"58cf","./system/administrator/":"58cf","./system/administrator/index":"58cf","./system/administrator/index.vue":"58cf","./system/administrator/profile":"6d40","./system/administrator/profile/":"6d40","./system/administrator/profile/index":"6d40","./system/administrator/profile/index.vue":"6d40","./system/administrator/profile/resetPwd":"8a24","./system/administrator/profile/resetPwd.vue":"8a24","./system/administrator/profile/userAvatar":"9179","./system/administrator/profile/userAvatar.vue":"9179","./system/administrator/profile/userInfo":"2e05","./system/administrator/profile/userInfo.vue":"2e05","./system/config":"cdb7","./system/config/":"cdb7","./system/config/index":"cdb7","./system/config/index.vue":"cdb7","./system/dept":"5cfa","./system/dept/":"5cfa","./system/dept/index":"5cfa","./system/dept/index.vue":"5cfa","./system/dict":"046a","./system/dict/":"046a","./system/dict/data":"bfc4","./system/dict/data.vue":"bfc4","./system/dict/index":"046a","./system/dict/index.vue":"046a","./system/menu":"f794","./system/menu/":"f794","./system/menu/index":"f794","./system/menu/index.vue":"f794","./system/notice":"202d","./system/notice/":"202d","./system/notice/index":"202d","./system/notice/index.vue":"202d","./system/operationlog":"316b","./system/operationlog/":"316b","./system/operationlog/index":"316b","./system/operationlog/index.vue":"316b","./system/post":"5788","./system/post/":"5788","./system/post/index":"5788","./system/post/index.vue":"5788","./system/role":"70eb","./system/role/":"70eb","./system/role/index":"70eb","./system/role/index.vue":"70eb","./tool/build":"2855","./tool/build/":"2855","./tool/build/CodeTypeDialog":"a92a","./tool/build/CodeTypeDialog.vue":"a92a","./tool/build/DraggableItem":"4923","./tool/build/DraggableItem.vue":"4923","./tool/build/IconsDialog":"d0b2","./tool/build/IconsDialog.vue":"d0b2","./tool/build/RightPanel":"766b","./tool/build/RightPanel.vue":"766b","./tool/build/TreeNodeDialog":"c81a","./tool/build/TreeNodeDialog.vue":"c81a","./tool/build/index":"2855","./tool/build/index.vue":"2855","./tool/gen":"82c8","./tool/gen/":"82c8","./tool/gen/basicInfoForm":"ed69","./tool/gen/basicInfoForm.vue":"ed69","./tool/gen/editTable":"76f8","./tool/gen/editTable.vue":"76f8","./tool/gen/genInfoForm":"8586","./tool/gen/genInfoForm.vue":"8586","./tool/gen/importTable":"6f72","./tool/gen/importTable.vue":"6f72","./tool/gen/index":"82c8","./tool/gen/index.vue":"82c8","./tool/swagger":"4a49","./tool/swagger/":"4a49","./tool/swagger/index":"4a49","./tool/swagger/index.vue":"4a49"};function o(e){var t=l(e);return a(t)}function l(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}o.keys=function(){return Object.keys(n)},o.resolve=l,e.exports=o,o.id="4b3b"},"4b72":function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"c",(function(){return s})),a.d(t,"f",(function(){return c})),a.d(t,"a",(function(){return u}));var n=a("b775");function o(e){return Object(n["a"])({url:"/tool/gen",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/tool/gen/db/list",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/tool/gen/info",method:"get",params:{id:e}})}function r(e){return Object(n["a"])({url:"/tool/gen",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/tool/gen",method:"post",params:e})}function c(e){return Object(n["a"])({url:"/tool/gen/preview",method:"get",params:{tableId:e}})}function u(e){return Object(n["a"])({url:"/tool/gen",method:"delete",params:{ids:e}})}},"4db4":function(e,t,a){},"4fa6":function(e,t,a){},"4ff4":function(e,t,a){"use strict";a("3bcd")},"514f":function(e,t,a){},5788:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"岗位编码",prop:"postCode"}},[a("el-input",{attrs:{placeholder:"请输入岗位编码",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postCode,callback:function(t){e.$set(e.queryParams,"postCode",t)},expression:"queryParams.postCode"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位名称",prop:"postName"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.postName,callback:function(t){e.$set(e.queryParams,"postName",t)},expression:"queryParams.postName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"岗位状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dict_value,attrs:{label:e.dict_label,value:e.dict_value}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/post"],expression:"['POST:/system/post']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/post"],expression:"['PUT:/system/post']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/post"],expression:"['DELETE:/system/post']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["GET:/system/post/export"],expression:"['GET:/system/post/export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.postList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编号",align:"center",prop:"post_id"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位编码",align:"center",prop:"post_code"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位名称",align:"center",prop:"post_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"岗位排序",align:"center",prop:"post_sort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/post"],expression:"['PUT:/system/post']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/post"],expression:"['DELETE:/system/post']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"岗位名称",prop:"post_name"}},[a("el-input",{attrs:{placeholder:"请输入岗位名称"},model:{value:e.form.post_name,callback:function(t){e.$set(e.form,"post_name",t)},expression:"form.post_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位编码",prop:"post_code"}},[a("el-input",{attrs:{placeholder:"请输入编码名称"},model:{value:e.form.post_code,callback:function(t){e.$set(e.form,"post_code",t)},expression:"form.post_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位顺序",prop:"post_sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.post_sort,callback:function(t){e.$set(e.form,"post_sort",t)},expression:"form.post_sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"岗位状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dict_value,attrs:{label:t.dict_value}},[e._v(e._s(t.dict_label))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("b775");function i(e){return Object(l["a"])({url:"/system/post",method:"get",params:e})}function r(e){return Object(l["a"])({url:"/system/post/info",method:"get",params:{id:e}})}function s(e){return Object(l["a"])({url:"/system/post",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/system/post",method:"put",data:e})}function u(e){return Object(l["a"])({url:"/system/post",method:"delete",params:{ids:e}})}function d(e){return Object(l["a"])({url:"/system/post/export",method:"get",params:e})}var m={name:"Post",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,postList:[],title:"",open:!1,statusOptions:[],queryParams:{pageNum:1,pageSize:10,postCode:void 0,postName:void 0,status:void 0},form:{},rules:{post_name:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],post_code:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],post_sort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,i(this.queryParams).then((function(t){e.postList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={post_id:void 0,post_code:void 0,post_name:void 0,post_sort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.post_id})).join(","),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加岗位"},handleUpdate:function(e){var t=this;this.reset();var a=e.post_id||this.ids;r(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改岗位"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.post_id?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):s(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.post_id||this.ids;this.$confirm('是否确认删除岗位编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有岗位数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},p=m,f=a("2877"),v=Object(f["a"])(p,n,o,!1,null,null,null);t["default"]=v.exports},"57ff":function(e,t,a){},"58cf":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:20,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"正常",value:"normal"}}),e._v(" "),a("el-option",{attrs:{label:"禁用",value:"disabled"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/user"],expression:"['POST:/system/user']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n          ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/user"],expression:"['DELETE:/system/user']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n          ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户编号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",align:"center",prop:"username","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return["normal"==t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("正常")]):a("el-tag",{attrs:{type:"danger"}},[e._v("禁用")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/user"],expression:"['PUT:/system/user']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n            ")]),e._v(" "),1!==t.row.userId?a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/user"],expression:"['DELETE:/system/user']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n            ")]):e._e()]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{attrs:{disabled:void 0!==e.form.id,placeholder:"请输入用户名称"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:"normal"}},[e._v(" 正常")]),e._v(" "),a("el-radio",{attrs:{label:"disabled"}},[e._v(" 禁用")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:e.form.role_ids,callback:function(t){e.$set(e.form,"role_ids",t)},expression:"form.role_ids"}},e._l(e.roleOptions,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id,disabled:"disabled"==e.status}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("28a5"),a("c0c7")),i=a("5f87"),r=(a("fcb7"),a("ca17")),s=a.n(r),c=(a("542c"),{name:"Administrator",components:{Treeselect:s.a},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",open:!1,initPassword:"123456",dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(i["a"])()},url:"/admin/system/user/importData"},queryParams:{page:1,size:10,username:void 0,status:void 0},rules:{username:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["f"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.data.list,e.total=t.data.total,e.loading=!1}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.getList()},handleStatusChange:function(e){var t=this,a="normal"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.user_name+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["b"])(e.id,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,username:void 0,password:void 0,status:"normal",remark:void 0,role_ids:[]},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){var e=this;this.reset(),Object(l["d"])().then((function(t){e.roleOptions=t.data.roles,e.open=!0,e.title="添加用户",e.form.password=e.initPassword}))},handleUpdate:function(e){var t=this;this.reset();var a=e.id;Object(l["d"])(a).then((function(e){t.form=e.data.user,console.log(e.data),t.$set(t,"roleOptions",e.data.roles),t.$set(t.form,"role_ids",e.data.user.role_ids),t.open=!0,t.title="修改用户",t.form.password="******"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){var a=e;void 0!==e.form.id?Object(l["g"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})).catch((function(){a.$set(a.form,"role_ids",a.form.role_ids)})):Object(l["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})).catch((function(){a.$set(a.form,"role_ids",a.form.role_ids.split(",").map((function(e){return parseInt(e)})))}))}}))},handleDelete:function(e){var t=this,a=e.id?[e.id]:this.ids;this.$confirm('是否确认删除用户编号为"'+a.join(",")+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["c"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()}}}),u=c,d=a("2877"),m=Object(d["a"])(u,n,o,!1,null,null,null);t["default"]=m.exports},"5cfa":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"部门名称"}},[a("el-input",{attrs:{placeholder:"请输入部门名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.deptName,callback:function(t){e.$set(e.queryParams,"deptName",t)},expression:"queryParams.deptName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"部门状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dict_value,attrs:{label:e.dict_label,value:e.dict_value}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/dept"],expression:"['POST:/system/dept']"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.deptList,"row-key":"dept_id","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"dept_name",label:"部门名称",width:"260"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_num",label:"排序",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/dept"],expression:"['PUT:/system/dept']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/dept"],expression:"['POST:/system/dept']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/dept"],expression:"['DELETE:/system/dept']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[0!==e.form.parent_id?a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级部门",prop:"parent_id"}},[a("treeselect",{attrs:{options:e.deptOptions,normalizer:e.normalizer,placeholder:"选择上级部门"},model:{value:e.form.parent_id,callback:function(t){e.$set(e.form,"parent_id",t)},expression:"form.parent_id"}})],1)],1):e._e(),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门名称",prop:"dept_name"}},[a("el-input",{attrs:{placeholder:"请输入部门名称"},model:{value:e.form.dept_name,callback:function(t){e.$set(e.form,"dept_name",t)},expression:"form.dept_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"order_num"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.order_num,callback:function(t){e.$set(e.form,"order_num",t)},expression:"form.order_num"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"负责人",prop:"leader"}},[a("el-input",{attrs:{placeholder:"请输入负责人",maxlength:"20"},model:{value:e.form.leader,callback:function(t){e.$set(e.form,"leader",t)},expression:"form.leader"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"联系电话",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入联系电话",maxlength:"11"},model:{value:e.form.phone,callback:function(t){e.$set(e.form,"phone",t)},expression:"form.phone"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱",maxlength:"50"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"部门状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dict_value,attrs:{label:t.dict_value}},[e._v(e._s(t.dict_label))])})),1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("fcb7"),i=a("ca17"),r=a.n(i),s=(a("542c"),{name:"Dept",components:{Treeselect:r.a},data:function(){return{loading:!0,deptList:[],deptOptions:[],title:"",open:!1,statusOptions:[],queryParams:{deptName:void 0,status:void 0},form:{},rules:{parentId:[{required:!0,message:"上级部门不能为空",trigger:"blur"}],deptName:[{required:!0,message:"部门名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],email:[{type:"email",message:"'请输入正确的邮箱地址",trigger:["blur","change"]}],phone:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}]}}},created:function(){var e=this;this.getList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getList:function(){var e=this;this.loading=!0,Object(l["d"])(this.queryParams).then((function(t){e.deptList=e.handleTree(t.data,"dept_id","parent_id"),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.dept_id,label:e.dept_name,children:e.children}},getTreeselect:function(){var e=this;Object(l["d"])().then((function(t){e.deptOptions=e.handleTree(t.data,"dept_id","parent_id")}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dept_id:void 0,parent_id:void 0,dept_name:void 0,order_num:void 0,leader:void 0,phone:void 0,email:void 0,status:"0"},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),void 0!=e&&(this.form.parent_id=e.dept_id),this.open=!0,this.title="添加部门"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(l["c"])(e.dept_id).then((function(e){t.form=e.data,t.open=!0,t.title="修改部门"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dept_id?Object(l["e"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(l["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.dept_name+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["b"])(e.dept_id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}}),c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports},"61b6":function(e,t,a){"use strict";a("bf69")},"6d40":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6,xs:24}},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("个人信息")])]),e._v(" "),a("div",[a("div",{staticClass:"text-center"},[a("userAvatar",{attrs:{user:e.user}})],1),e._v(" "),a("ul",{staticClass:"list-group list-group-striped"},[a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"user"}}),e._v("\n              用户名称\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.username))])],1),e._v(" "),a("li",{staticClass:"list-group-item"},[a("svg-icon",{attrs:{"icon-class":"date"}}),e._v("\n              创建日期\n              "),a("div",{staticClass:"pull-right"},[e._v(e._s(e.user.created_at))])],1)])])])],1),e._v(" "),a("el-col",{attrs:{span:18,xs:24}},[a("el-card",[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("基本资料")])]),e._v(" "),a("el-form",{ref:"form",attrs:{model:e.user,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[a("el-input",{model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"旧密码",prop:"old_password"}},[a("el-input",{attrs:{placeholder:"请输入旧密码",type:"password"},model:{value:e.user.old_password,callback:function(t){e.$set(e.user,"old_password",t)},expression:"user.old_password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入新密码",type:"password"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认密码",prop:"password_confirmed"}},[a("el-input",{attrs:{placeholder:"请确认密码",type:"password"},model:{value:e.user.password_confirmed,callback:function(t){e.$set(e.user,"password_confirmed",t)},expression:"user.password_confirmed"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.close}},[e._v("关闭")])],1)],1)],1)],1)],1)],1)},o=[],l=a("9179"),i=a("2e05"),r=a("8a24"),s=a("c0c7"),c={name:"Profile",components:{userAvatar:l["default"],userInfo:i["default"],resetPwd:r["default"]},data:function(){var e=this,t=function(t,a,n){e.user.newPassword!==a?n(new Error("两次输入的密码不一致")):n()};return{test:"1test",user:{oldPassword:void 0,newPassword:void 0,confirmPassword:void 0},rules:{oldPassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newPassword:[{required:!0,message:"新密码不能为空",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],confirmPassword:[{required:!0,message:"确认密码不能为空",trigger:"blur"},{required:!0,validator:t,trigger:"blur"}]}}},created:function(){this.getUser()},methods:{getUser:function(){var e=this;Object(s["getUserProfile"])().then((function(t){e.user=t.data,console.log(t.data)}))},submit:function(){var e=this;this.$refs["form"].validate((function(t){t&&Object(s["updateUserProfile"])(e.user).then((function(t){0===t.code?e.msgSuccess("修改成功"):e.msgError(t.msg)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/index"})}}},u=c,d=a("2877"),m=Object(d["a"])(u,n,o,!1,null,null,null);t["default"]=m.exports},"6f72":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"导入表",visible:e.visible,width:"800px",top:"5vh","append-to-body":""},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",[a("el-table",{ref:"table",attrs:{data:e.dbTableList,height:"260px"},on:{"row-click":e.clickRow,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"table_name",label:"表名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"table_comment",label:"表描述"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"update_time",label:"更新时间"}})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleImportTable}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:function(t){e.visible=!1}}},[e._v("取 消")])],1)],1)},o=[],l=a("4b72"),i={data:function(){return{visible:!1,tables:[],total:0,dbTableList:[],queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0}}},methods:{show:function(){this.getList(),this.visible=!0},clickRow:function(e){this.$refs.table.toggleRowSelection(e)},handleSelectionChange:function(e){this.tables=e.map((function(e){return e.table_name}))},getList:function(){var e=this;Object(l["d"])(this.queryParams).then((function(t){0===t.code&&(e.dbTableList=t.rows,e.total=t.total)}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleImportTable:function(){var e=this;Object(l["c"])({tables:this.tables.join(",")}).then((function(t){e.msgSuccess(t.msg),0===t.code&&(e.visible=!1,e.$emit("ok"))}))}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},"70eb":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/role"],expression:"['POST:/system/role']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n        ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/role"],expression:"['DELETE:/system/role']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n        ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.roleList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色编号1",prop:"id",width:"120"}}),e._v(" "),a("el-table-column",{attrs:{label:"角色名称",prop:"name","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"权限字符",prop:"identification","show-overflow-tooltip":!0,width:"150"}}),e._v(" "),a("el-table-column",{attrs:{label:"显示顺序",prop:"sort",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-value":"normal","inactive-value":"disabled"},on:{change:function(a){return e.handleStatusChange(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/role"],expression:"['PUT:/system/role']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n          ")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/role"],expression:"['DELETE:/system/role']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"角色名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入角色名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"权限字符",prop:"role_key"}},[a("el-input",{attrs:{placeholder:"请输入权限字符\n"},model:{value:e.form.identification,callback:function(t){e.$set(e.form,"identification",t)},expression:"form.identification"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色顺序",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:"normal"}},[e._v("正常")]),e._v(" "),a("el-radio",{attrs:{label:"disabled"}},[e._v("禁用")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"菜单权限"}},[a("el-tree",{ref:"menu",attrs:{data:e.permissionOptions,"show-checkbox":"","node-key":"id","empty-text":"加载中，请稍后","check-strictly":e.checkStrictly,props:e.defaultProps}})],1),e._v(" "),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("b775");function i(e){return Object(l["a"])({url:"/role-list",method:"get",params:e})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Object(l["a"])({url:"/role-info",method:"get",params:{id:e}})}function s(e){return Object(l["a"])({url:"/role-store",method:"post",data:e})}function c(e){return Object(l["a"])({url:"/role-update",method:"put",data:e})}function u(e,t){var a={roleId:e,status:t};return Object(l["a"])({url:"/system/role/changeStatus",method:"put",data:a})}function d(e){return Object(l["a"])({url:"/role-destroy",method:"delete",params:{ids:e}})}function m(e){return Object(l["a"])({url:"/system/role/export",method:"get",params:e})}a("a6dc");var p={name:"Role",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,roleList:[],title:"",open:!1,openDataScope:!1,dateRange:[],statusOptions:[],permissionOptions:[],queryParams:{pageNum:1,pageSize:10,roleName:void 0,roleKey:void 0,status:void 0},form:{},defaultProps:{children:"children",label:"name"},rules:{name:[{required:!0,message:"角色名称不能为空",trigger:"blur"}],identification:[{required:!0,message:"权限字符不能为空",trigger:"blur"}],sort:[{required:!0,message:"角色顺序不能为空",trigger:"blur"}]},checkStrictly:!1}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,i(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.roleList=t.data.list,e.total=t.data.total,e.loading=!1}))},getMenuAllCheckedKeys:function(){var e=this.$refs.menu.getHalfCheckedKeys(),t=this.$refs.menu.getCheckedKeys();return e.unshift.apply(e,t),e},handleStatusChange:function(e){var t=this,a="0"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.role_name+'"角色吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return u(e.role_id,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},cancelDataScope:function(){this.openDataScope=!1,this.reset()},reset:function(){void 0!=this.$refs.menu&&this.$refs.menu.setCheckedKeys([]),this.form={id:void 0,name:void 0,identification:void 0,sort:0,status:"normal",menu_ids:[],remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){var e=this;this.reset(),r().then((function(t){e.permissionOptions=t.data.permission_tree,e.open=!0,e.title="添加角色"}))},handleUpdate:function(e){this.reset(),console.log(JSON.parse(JSON.stringify(this.form)));var t=e.id||this.ids;this.checkStrictly=!0;var a=this;r(t).then((function(e){console.log(e.data),a.form=e.data.role,a.permissionOptions=e.data.permission_tree,a.open=!0,a.title="修改角色",a.checkStrictly=!1,a.$nextTick((function(){a.$refs.menu.setCheckedKeys(e.data.role.menu_ids)}))})).catch((function(e){console.log(e,5555)}))},submitForm:function(){var e=this;this.form.menu_ids=this.getMenuAllCheckedKeys(),this.$refs["form"].validate((function(t){t&&(void 0!==e.form.id?c(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):(console.log(e.form.menu_ids),s(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)}))))}))},handleDelete:function(e){var t=this,a=e.id?[e.id]:this.ids;this.$confirm('是否确认删除角色编号为"'+a.join(",")+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return d(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有角色数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return m(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},f=p,v=a("2877"),h=Object(v["a"])(f,n,o,!1,null,null,null);t["default"]=h.exports},"721e":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"主题id",prop:"title"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入主题id  ",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.id,callback:function(t){e.$set(e.queryParams,"id",t)},expression:"queryParams.id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"标题",prop:"title"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入标题",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.title,callback:function(t){e.$set(e.queryParams,"title",t)},expression:"queryParams.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"节点名称",prop:"node_name"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入节点名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.node_name,callback:function(t){e.$set(e.queryParams,"node_name",t)},expression:"queryParams.node_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关键词",prop:"filter_keyword"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入关键词",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.filter_keyword,callback:function(t){e.$set(e.queryParams,"filter_keyword",t)},expression:"queryParams.filter_keyword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"所有",value:""}}),e._v(" "),a("el-option",{attrs:{label:"未审核",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"正常",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"周期",prop:"period"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"状态",clearable:"",size:"small"},model:{value:e.queryParams.period,callback:function(t){e.$set(e.queryParams,"period",t)},expression:"queryParams.period"}},[a("el-option",{attrs:{label:"不限",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"1天内",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"3天内",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"7天内",value:"7"}}),e._v(" "),a("el-option",{attrs:{label:"30天内",value:"30"}}),e._v(" "),a("el-option",{attrs:{label:"365天内",value:"365"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list},on:{"sort-change":e.changeSort}},[a("el-table-column",{attrs:{label:"ID",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击跳转到主题页面",placement:"top"}},[a("el-link",{attrs:{type:"primary",href:e.frontDomain+"/post/"+t.row.id,target:"_blank"}},[e._v(e._s(t.row.title)+"\n          ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"用户",prop:"username",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看用户",placement:"top"}},[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpUser(t.row)}}},[e._v(e._s(t.row.username))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"回复数量",sortable:"",prop:"reply_amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看回复",placement:"top"}},[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpComments(t.row)}}},[e._v(e._s(t.row.reply_amount)+"\n          ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"收藏数量",sortable:"",prop:"collection_amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看收藏用户",placement:"top"}},[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpAssociation("collect_post",t.row.id)}}},[e._v("\n            "+e._s(t.row.collection_amount)+"\n          ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"屏蔽数量",sortable:"",prop:"shielded_amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看屏蔽用户",placement:"top"}},[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpAssociation("shield_post",t.row.id)}}},[e._v(e._s(t.row.shielded_amount)+"\n          ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"感谢数量",sortable:"",prop:"thanks_amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看感谢用户",placement:"top"}},[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpAssociation("thanks_post",t.row.id)}}},[e._v(e._s(t.row.thanks_amount)+"\n          ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"点击数量",sortable:"",align:"center",prop:"visit_amount"}}),e._v(" "),a("el-table-column",{attrs:{label:"置顶时间",align:"center",prop:"top_end_time"}}),e._v(" "),a("el-table-column",{attrs:{label:"所属节点",align:"center",prop:"node_name"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("未审核")]):e._e(),e._v(" "),1===t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("已审核")]):e._e(),e._v(" "),-1===t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("已屏蔽")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",align:"center",prop:"created_at"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详情\n        ")]),e._v(" "),0===t.row.status?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleAudit(t.row.id)}}},[e._v("审核\n        ")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleManage(t.row)}}},[e._v("管理\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"主题详情",visible:e.detailOpen,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.detailOpen=t}}},[a("div",{staticClass:"content",domProps:{innerHTML:e._s(e.detailContent)}})]),e._v(" "),a("el-dialog",{attrs:{title:"管理主题",visible:e.manageOpen,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.manageOpen=t}}},[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"置顶截止时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},model:{value:e.form.top_end_time,callback:function(t){e.$set(e.form,"top_end_time",t)},expression:"form.top_end_time"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:1}},[e._v(" 正常")]),e._v(" "),a("el-radio",{attrs:{label:-1}},[e._v(" 屏蔽")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("1540"),i={name:"post",data:function(){return{loading:!1,queryParams:{page:1,size:10,period:void 0,order_field:"",order_direction:"",id:void 0},list:[],total:0,detailOpen:!1,manageOpen:!1,form:{},detailContent:"",frontDomain:""}},created:function(){this.queryParams.id=this.$route.query.id,this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["B"])(this.queryParams).then((function(t){e.list=t.data.list,e.total=t.data.total,e.loading=!1,e.frontDomain=t.data.front_domain}))},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleQuery:function(){this.queryParams.page=1,this.getList()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})).join(","),this.multiple=!e.length},changeSort:function(e){this.queryParams.order_direction="descending"===e.order?"desc":"asc",this.queryParams.order_field=e.prop,this.getList()},jumpComments:function(e){this.$router.push({path:"/post-reply/reply?postId=".concat(e.id)})},jumpUser:function(e){this.$router.push({path:"/user-manage/users?username=".concat(e.username)})},jumpAssociation:function(e,t){this.$router.push({path:"/forum/association?type=".concat(e,"&targetId=").concat(t)})},handleView:function(e){var t=this;Object(l["v"])(e.id).then((function(e){console.log(e.data),t.detailContent=e.data.html_content,console.log(t.detailContent),t.detailOpen=!0}))},handleAudit:function(e){var t=this;this.$confirm("确定要审核通过该主题么","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["d"])({id:e}).then((function(e){0!==e.code?t.msgError(e.msg):(t.getList(),t.msgSuccess("审核成功"))}))}))},submitForm:function(){var e=this;Object(l["Q"])(this.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.manageOpen=!1,e.getList()):e.msgError(t.msg)})).catch((function(){}))},cancel:function(){this.manageOpen=!1},handleManage:function(e){this.manageOpen=!0,this.form=JSON.parse(JSON.stringify(e)),console.log(e)},handleDelete:function(e){var t=this,a=e.id;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["i"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},"766b":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"right-board"},[a("el-tabs",{staticClass:"center-tabs",model:{value:e.currentTab,callback:function(t){e.currentTab=t},expression:"currentTab"}},[a("el-tab-pane",{attrs:{label:"组件属性",name:"field"}}),e._v(" "),a("el-tab-pane",{attrs:{label:"表单属性",name:"form"}})],1),e._v(" "),a("div",{staticClass:"field-box"},[a("a",{staticClass:"document-link",attrs:{target:"_blank",href:e.documentLink,title:"查看组件文档"}},[a("i",{staticClass:"el-icon-link"})]),e._v(" "),a("el-scrollbar",{staticClass:"right-scrollbar"},[a("el-form",{directives:[{name:"show",rawName:"v-show",value:"field"===e.currentTab&&e.showField,expression:"currentTab==='field' && showField"}],attrs:{size:"small","label-width":"90px"}},[e.activeData.changeTag?a("el-form-item",{attrs:{label:"组件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择组件类型"},on:{change:e.tagChange},model:{value:e.activeData.tagIcon,callback:function(t){e.$set(e.activeData,"tagIcon",t)},expression:"activeData.tagIcon"}},e._l(e.tagList,(function(t){return a("el-option-group",{key:t.label,attrs:{label:t.label}},e._l(t.options,(function(t){return a("el-option",{key:t.label,attrs:{label:t.label,value:t.tagIcon}},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":t.tagIcon}}),e._v(" "),a("span",[e._v(" "+e._s(t.label))])],1)})),1)})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"字段名"}},[a("el-input",{attrs:{placeholder:"请输入字段名（v-model）"},model:{value:e.activeData.vModel,callback:function(t){e.$set(e.activeData,"vModel",t)},expression:"activeData.vModel"}})],1):e._e(),e._v(" "),void 0!==e.activeData.componentName?a("el-form-item",{attrs:{label:"组件名"}},[e._v("\n          "+e._s(e.activeData.componentName)+"\n        ")]):e._e(),e._v(" "),void 0!==e.activeData.label?a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{placeholder:"请输入标题"},model:{value:e.activeData.label,callback:function(t){e.$set(e.activeData,"label",t)},expression:"activeData.label"}})],1):e._e(),e._v(" "),void 0!==e.activeData.placeholder?a("el-form-item",{attrs:{label:"占位提示"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData.placeholder,callback:function(t){e.$set(e.activeData,"placeholder",t)},expression:"activeData.placeholder"}})],1):e._e(),e._v(" "),void 0!==e.activeData["start-placeholder"]?a("el-form-item",{attrs:{label:"开始占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["start-placeholder"],callback:function(t){e.$set(e.activeData,"start-placeholder",t)},expression:"activeData['start-placeholder']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["end-placeholder"]?a("el-form-item",{attrs:{label:"结束占位"}},[a("el-input",{attrs:{placeholder:"请输入占位提示"},model:{value:e.activeData["end-placeholder"],callback:function(t){e.$set(e.activeData,"end-placeholder",t)},expression:"activeData['end-placeholder']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.span?a("el-form-item",{attrs:{label:"表单栅格"}},[a("el-slider",{attrs:{max:24,min:1,marks:{12:""}},on:{change:e.spanChange},model:{value:e.activeData.span,callback:function(t){e.$set(e.activeData,"span",t)},expression:"activeData.span"}})],1):e._e(),e._v(" "),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.activeData.gutter,callback:function(t){e.$set(e.activeData,"gutter",t)},expression:"activeData.gutter"}})],1):e._e(),e._v(" "),"rowFormItem"===e.activeData.layout?a("el-form-item",{attrs:{label:"布局模式"}},[a("el-radio-group",{model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},[a("el-radio-button",{attrs:{label:"default"}}),e._v(" "),a("el-radio-button",{attrs:{label:"flex"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.justify&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"水平排列"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择水平排列"},model:{value:e.activeData.justify,callback:function(t){e.$set(e.activeData,"justify",t)},expression:"activeData.justify"}},e._l(e.justifyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.align&&"flex"===e.activeData.type?a("el-form-item",{attrs:{label:"垂直排列"}},[a("el-radio-group",{model:{value:e.activeData.align,callback:function(t){e.$set(e.activeData,"align",t)},expression:"activeData.align"}},[a("el-radio-button",{attrs:{label:"top"}}),e._v(" "),a("el-radio-button",{attrs:{label:"middle"}}),e._v(" "),a("el-radio-button",{attrs:{label:"bottom"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.labelWidth?a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入标签宽度"},model:{value:e.activeData.labelWidth,callback:function(t){e.$set(e.activeData,"labelWidth",e._n(t))},expression:"activeData.labelWidth"}})],1):e._e(),e._v(" "),e.activeData.style&&void 0!==e.activeData.style.width?a("el-form-item",{attrs:{label:"组件宽度"}},[a("el-input",{attrs:{placeholder:"请输入组件宽度",clearable:""},model:{value:e.activeData.style.width,callback:function(t){e.$set(e.activeData.style,"width",t)},expression:"activeData.style.width"}})],1):e._e(),e._v(" "),void 0!==e.activeData.vModel?a("el-form-item",{attrs:{label:"默认值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData.defaultValue),placeholder:"请输入默认值"},on:{input:e.onDefaultValueInput}})],1):e._e(),e._v(" "),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"至少应选"}},[a("el-input-number",{attrs:{value:e.activeData.min,min:0,placeholder:"至少应选"},on:{input:function(t){return e.$set(e.activeData,"min",t||void 0)}}})],1):e._e(),e._v(" "),"el-checkbox-group"===e.activeData.tag?a("el-form-item",{attrs:{label:"最多可选"}},[a("el-input-number",{attrs:{value:e.activeData.max,min:0,placeholder:"最多可选"},on:{input:function(t){return e.$set(e.activeData,"max",t||void 0)}}})],1):e._e(),e._v(" "),void 0!==e.activeData.prepend?a("el-form-item",{attrs:{label:"前缀"}},[a("el-input",{attrs:{placeholder:"请输入前缀"},model:{value:e.activeData.prepend,callback:function(t){e.$set(e.activeData,"prepend",t)},expression:"activeData.prepend"}})],1):e._e(),e._v(" "),void 0!==e.activeData.append?a("el-form-item",{attrs:{label:"后缀"}},[a("el-input",{attrs:{placeholder:"请输入后缀"},model:{value:e.activeData.append,callback:function(t){e.$set(e.activeData,"append",t)},expression:"activeData.append"}})],1):e._e(),e._v(" "),void 0!==e.activeData["prefix-icon"]?a("el-form-item",{attrs:{label:"前图标"}},[a("el-input",{attrs:{placeholder:"请输入前图标名称"},model:{value:e.activeData["prefix-icon"],callback:function(t){e.$set(e.activeData,"prefix-icon",t)},expression:"activeData['prefix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("prefix-icon")}},slot:"append"},[e._v("\n              选择\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData["suffix-icon"]?a("el-form-item",{attrs:{label:"后图标"}},[a("el-input",{attrs:{placeholder:"请输入后图标名称"},model:{value:e.activeData["suffix-icon"],callback:function(t){e.$set(e.activeData,"suffix-icon",t)},expression:"activeData['suffix-icon']"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-thumb"},on:{click:function(t){return e.openIconsDialog("suffix-icon")}},slot:"append"},[e._v("\n              选择\n            ")])],1)],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"选项分隔符"}},[a("el-input",{attrs:{placeholder:"请输入选项分隔符"},model:{value:e.activeData.separator,callback:function(t){e.$set(e.activeData,"separator",t)},expression:"activeData.separator"}})],1):e._e(),e._v(" "),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最小行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最小行数"},model:{value:e.activeData.autosize.minRows,callback:function(t){e.$set(e.activeData.autosize,"minRows",t)},expression:"activeData.autosize.minRows"}})],1):e._e(),e._v(" "),void 0!==e.activeData.autosize?a("el-form-item",{attrs:{label:"最大行数"}},[a("el-input-number",{attrs:{min:1,placeholder:"最大行数"},model:{value:e.activeData.autosize.maxRows,callback:function(t){e.$set(e.activeData.autosize,"maxRows",t)},expression:"activeData.autosize.maxRows"}})],1):e._e(),e._v(" "),void 0!==e.activeData.min?a("el-form-item",{attrs:{label:"最小值"}},[a("el-input-number",{attrs:{placeholder:"最小值"},model:{value:e.activeData.min,callback:function(t){e.$set(e.activeData,"min",t)},expression:"activeData.min"}})],1):e._e(),e._v(" "),void 0!==e.activeData.max?a("el-form-item",{attrs:{label:"最大值"}},[a("el-input-number",{attrs:{placeholder:"最大值"},model:{value:e.activeData.max,callback:function(t){e.$set(e.activeData,"max",t)},expression:"activeData.max"}})],1):e._e(),e._v(" "),void 0!==e.activeData.step?a("el-form-item",{attrs:{label:"步长"}},[a("el-input-number",{attrs:{placeholder:"步数"},model:{value:e.activeData.step,callback:function(t){e.$set(e.activeData,"step",t)},expression:"activeData.step"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"精度"}},[a("el-input-number",{attrs:{min:0,placeholder:"精度"},model:{value:e.activeData.precision,callback:function(t){e.$set(e.activeData,"precision",t)},expression:"activeData.precision"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"按钮位置"}},[a("el-radio-group",{model:{value:e.activeData["controls-position"],callback:function(t){e.$set(e.activeData,"controls-position",t)},expression:"activeData['controls-position']"}},[a("el-radio-button",{attrs:{label:""}},[e._v("\n              默认\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("\n              右侧\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData.maxlength?a("el-form-item",{attrs:{label:"最多输入"}},[a("el-input",{attrs:{placeholder:"请输入字符长度"},model:{value:e.activeData.maxlength,callback:function(t){e.$set(e.activeData,"maxlength",t)},expression:"activeData.maxlength"}},[a("template",{slot:"append"},[e._v("\n              个字符\n            ")])],2)],1):e._e(),e._v(" "),void 0!==e.activeData["active-text"]?a("el-form-item",{attrs:{label:"开启提示"}},[a("el-input",{attrs:{placeholder:"请输入开启提示"},model:{value:e.activeData["active-text"],callback:function(t){e.$set(e.activeData,"active-text",t)},expression:"activeData['active-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-text"]?a("el-form-item",{attrs:{label:"关闭提示"}},[a("el-input",{attrs:{placeholder:"请输入关闭提示"},model:{value:e.activeData["inactive-text"],callback:function(t){e.$set(e.activeData,"inactive-text",t)},expression:"activeData['inactive-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["active-value"]?a("el-form-item",{attrs:{label:"开启值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["active-value"]),placeholder:"请输入开启值"},on:{input:function(t){return e.onSwitchValueInput(t,"active-value")}}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-value"]?a("el-form-item",{attrs:{label:"关闭值"}},[a("el-input",{attrs:{value:e.setDefaultValue(e.activeData["inactive-value"]),placeholder:"请输入关闭值"},on:{input:function(t){return e.onSwitchValueInput(t,"inactive-value")}}})],1):e._e(),e._v(" "),void 0!==e.activeData.type&&"el-date-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"时间类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择时间类型"},on:{change:e.dateTypeChange},model:{value:e.activeData.type,callback:function(t){e.$set(e.activeData,"type",t)},expression:"activeData.type"}},e._l(e.dateOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0!==e.activeData.name?a("el-form-item",{attrs:{label:"文件字段名"}},[a("el-input",{attrs:{placeholder:"请输入上传文件字段名"},model:{value:e.activeData.name,callback:function(t){e.$set(e.activeData,"name",t)},expression:"activeData.name"}})],1):e._e(),e._v(" "),void 0!==e.activeData.accept?a("el-form-item",{attrs:{label:"文件类型"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择文件类型",clearable:""},model:{value:e.activeData.accept,callback:function(t){e.$set(e.activeData,"accept",t)},expression:"activeData.accept"}},[a("el-option",{attrs:{label:"图片",value:"image/*"}}),e._v(" "),a("el-option",{attrs:{label:"视频",value:"video/*"}}),e._v(" "),a("el-option",{attrs:{label:"音频",value:"audio/*"}}),e._v(" "),a("el-option",{attrs:{label:"excel",value:".xls,.xlsx"}}),e._v(" "),a("el-option",{attrs:{label:"word",value:".doc,.docx"}}),e._v(" "),a("el-option",{attrs:{label:"pdf",value:".pdf"}}),e._v(" "),a("el-option",{attrs:{label:"txt",value:".txt"}})],1)],1):e._e(),e._v(" "),void 0!==e.activeData.fileSize?a("el-form-item",{attrs:{label:"文件大小"}},[a("el-input",{attrs:{placeholder:"请输入文件大小"},model:{value:e.activeData.fileSize,callback:function(t){e.$set(e.activeData,"fileSize",e._n(t))},expression:"activeData.fileSize"}},[a("el-select",{style:{width:"66px"},attrs:{slot:"append"},slot:"append",model:{value:e.activeData.sizeUnit,callback:function(t){e.$set(e.activeData,"sizeUnit",t)},expression:"activeData.sizeUnit"}},[a("el-option",{attrs:{label:"KB",value:"KB"}}),e._v(" "),a("el-option",{attrs:{label:"MB",value:"MB"}}),e._v(" "),a("el-option",{attrs:{label:"GB",value:"GB"}})],1)],1)],1):e._e(),e._v(" "),void 0!==e.activeData.action?a("el-form-item",{attrs:{label:"上传地址"}},[a("el-input",{attrs:{placeholder:"请输入上传地址",clearable:""},model:{value:e.activeData.action,callback:function(t){e.$set(e.activeData,"action",t)},expression:"activeData.action"}})],1):e._e(),e._v(" "),void 0!==e.activeData["list-type"]?a("el-form-item",{attrs:{label:"列表类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData["list-type"],callback:function(t){e.$set(e.activeData,"list-type",t)},expression:"activeData['list-type']"}},[a("el-radio-button",{attrs:{label:"text"}},[e._v("\n              text\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"picture"}},[e._v("\n              picture\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"picture-card"}},[e._v("\n              picture-card\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData.buttonText?a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"picture-card"!==e.activeData["list-type"],expression:"'picture-card' !== activeData['list-type']"}],attrs:{label:"按钮文字"}},[a("el-input",{attrs:{placeholder:"请输入按钮文字"},model:{value:e.activeData.buttonText,callback:function(t){e.$set(e.activeData,"buttonText",t)},expression:"activeData.buttonText"}})],1):e._e(),e._v(" "),void 0!==e.activeData["range-separator"]?a("el-form-item",{attrs:{label:"分隔符"}},[a("el-input",{attrs:{placeholder:"请输入分隔符"},model:{value:e.activeData["range-separator"],callback:function(t){e.$set(e.activeData,"range-separator",t)},expression:"activeData['range-separator']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["picker-options"]?a("el-form-item",{attrs:{label:"时间段"}},[a("el-input",{attrs:{placeholder:"请输入时间段"},model:{value:e.activeData["picker-options"].selectableRange,callback:function(t){e.$set(e.activeData["picker-options"],"selectableRange",t)},expression:"activeData['picker-options'].selectableRange"}})],1):e._e(),e._v(" "),void 0!==e.activeData.format?a("el-form-item",{attrs:{label:"时间格式"}},[a("el-input",{attrs:{value:e.activeData.format,placeholder:"请输入时间格式"},on:{input:function(t){return e.setTimeValue(t)}}})],1):e._e(),e._v(" "),["el-checkbox-group","el-radio-group","el-select"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(" "),a("draggable",{attrs:{list:e.activeData.options,animation:340,group:"selectItem",handle:".option-drag"}},e._l(e.activeData.options,(function(t,n){return a("div",{key:n,staticClass:"select-item"},[a("div",{staticClass:"select-line-icon option-drag"},[a("i",{staticClass:"el-icon-s-operation"})]),e._v(" "),a("el-input",{attrs:{placeholder:"选项名",size:"small"},model:{value:t.label,callback:function(a){e.$set(t,"label",a)},expression:"item.label"}}),e._v(" "),a("el-input",{attrs:{placeholder:"选项值",size:"small",value:t.value},on:{input:function(a){return e.setOptionValue(t,a)}}}),e._v(" "),a("div",{staticClass:"close-btn select-line-icon",on:{click:function(t){return e.activeData.options.splice(n,1)}}},[a("i",{staticClass:"el-icon-remove-outline"})])],1)})),0),e._v(" "),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addSelectItem}},[e._v("\n              添加选项\n            ")])],1),e._v(" "),a("el-divider")]:e._e(),e._v(" "),["el-cascader"].indexOf(e.activeData.tag)>-1?[a("el-divider",[e._v("选项")]),e._v(" "),a("el-form-item",{attrs:{label:"数据类型"}},[a("el-radio-group",{attrs:{size:"small"},model:{value:e.activeData.dataType,callback:function(t){e.$set(e.activeData,"dataType",t)},expression:"activeData.dataType"}},[a("el-radio-button",{attrs:{label:"dynamic"}},[e._v("\n                动态数据\n              ")]),e._v(" "),a("el-radio-button",{attrs:{label:"static"}},[e._v("\n                静态数据\n              ")])],1)],1),e._v(" "),"dynamic"===e.activeData.dataType?[a("el-form-item",{attrs:{label:"标签键名"}},[a("el-input",{attrs:{placeholder:"请输入标签键名"},model:{value:e.activeData.labelKey,callback:function(t){e.$set(e.activeData,"labelKey",t)},expression:"activeData.labelKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"值键名"}},[a("el-input",{attrs:{placeholder:"请输入值键名"},model:{value:e.activeData.valueKey,callback:function(t){e.$set(e.activeData,"valueKey",t)},expression:"activeData.valueKey"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"子级键名"}},[a("el-input",{attrs:{placeholder:"请输入子级键名"},model:{value:e.activeData.childrenKey,callback:function(t){e.$set(e.activeData,"childrenKey",t)},expression:"activeData.childrenKey"}})],1)]:e._e(),e._v(" "),"static"===e.activeData.dataType?a("el-tree",{attrs:{draggable:"",data:e.activeData.options,"node-key":"id","expand-on-click-node":!1,"render-content":e.renderContent}}):e._e(),e._v(" "),"static"===e.activeData.dataType?a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{staticStyle:{"padding-bottom":"0"},attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addTreeItem}},[e._v("\n              添加父级\n            ")])],1):e._e(),e._v(" "),a("el-divider")]:e._e(),e._v(" "),void 0!==e.activeData.optionType?a("el-form-item",{attrs:{label:"选项样式"}},[a("el-radio-group",{model:{value:e.activeData.optionType,callback:function(t){e.$set(e.activeData,"optionType",t)},expression:"activeData.optionType"}},[a("el-radio-button",{attrs:{label:"default"}},[e._v("\n              默认\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"button"}},[e._v("\n              按钮\n            ")])],1)],1):e._e(),e._v(" "),void 0!==e.activeData["active-color"]?a("el-form-item",{attrs:{label:"开启颜色"}},[a("el-color-picker",{model:{value:e.activeData["active-color"],callback:function(t){e.$set(e.activeData,"active-color",t)},expression:"activeData['active-color']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["inactive-color"]?a("el-form-item",{attrs:{label:"关闭颜色"}},[a("el-color-picker",{model:{value:e.activeData["inactive-color"],callback:function(t){e.$set(e.activeData,"inactive-color",t)},expression:"activeData['inactive-color']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["allow-half"]?a("el-form-item",{attrs:{label:"允许半选"}},[a("el-switch",{model:{value:e.activeData["allow-half"],callback:function(t){e.$set(e.activeData,"allow-half",t)},expression:"activeData['allow-half']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-text"]?a("el-form-item",{attrs:{label:"辅助文字"}},[a("el-switch",{on:{change:e.rateTextChange},model:{value:e.activeData["show-text"],callback:function(t){e.$set(e.activeData,"show-text",t)},expression:"activeData['show-text']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-score"]?a("el-form-item",{attrs:{label:"显示分数"}},[a("el-switch",{on:{change:e.rateScoreChange},model:{value:e.activeData["show-score"],callback:function(t){e.$set(e.activeData,"show-score",t)},expression:"activeData['show-score']"}})],1):e._e(),e._v(" "),void 0!==e.activeData["show-stops"]?a("el-form-item",{attrs:{label:"显示间断点"}},[a("el-switch",{model:{value:e.activeData["show-stops"],callback:function(t){e.$set(e.activeData,"show-stops",t)},expression:"activeData['show-stops']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.range?a("el-form-item",{attrs:{label:"范围选择"}},[a("el-switch",{on:{change:e.rangeChange},model:{value:e.activeData.range,callback:function(t){e.$set(e.activeData,"range",t)},expression:"activeData.range"}})],1):e._e(),e._v(" "),void 0!==e.activeData.border&&"default"===e.activeData.optionType?a("el-form-item",{attrs:{label:"是否带边框"}},[a("el-switch",{model:{value:e.activeData.border,callback:function(t){e.$set(e.activeData,"border",t)},expression:"activeData.border"}})],1):e._e(),e._v(" "),"el-color-picker"===e.activeData.tag?a("el-form-item",{attrs:{label:"颜色格式"}},[a("el-select",{style:{width:"100%"},attrs:{placeholder:"请选择颜色格式"},on:{change:e.colorFormatChange},model:{value:e.activeData["color-format"],callback:function(t){e.$set(e.activeData,"color-format",t)},expression:"activeData['color-format']"}},e._l(e.colorFormatOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),e._v(" "),void 0===e.activeData.size||"button"!==e.activeData.optionType&&!e.activeData.border&&"el-color-picker"!==e.activeData.tag?e._e():a("el-form-item",{attrs:{label:"选项尺寸"}},[a("el-radio-group",{model:{value:e.activeData.size,callback:function(t){e.$set(e.activeData,"size",t)},expression:"activeData.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("\n              中等\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("\n              较小\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("\n              迷你\n            ")])],1)],1),e._v(" "),void 0!==e.activeData["show-word-limit"]?a("el-form-item",{attrs:{label:"输入统计"}},[a("el-switch",{model:{value:e.activeData["show-word-limit"],callback:function(t){e.$set(e.activeData,"show-word-limit",t)},expression:"activeData['show-word-limit']"}})],1):e._e(),e._v(" "),"el-input-number"===e.activeData.tag?a("el-form-item",{attrs:{label:"严格步数"}},[a("el-switch",{model:{value:e.activeData["step-strictly"],callback:function(t){e.$set(e.activeData,"step-strictly",t)},expression:"activeData['step-strictly']"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{model:{value:e.activeData.props.props.multiple,callback:function(t){e.$set(e.activeData.props.props,"multiple",t)},expression:"activeData.props.props.multiple"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"展示全路径"}},[a("el-switch",{model:{value:e.activeData["show-all-levels"],callback:function(t){e.$set(e.activeData,"show-all-levels",t)},expression:"activeData['show-all-levels']"}})],1):e._e(),e._v(" "),"el-cascader"===e.activeData.tag?a("el-form-item",{attrs:{label:"可否筛选"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),e._v(" "),void 0!==e.activeData.clearable?a("el-form-item",{attrs:{label:"能否清空"}},[a("el-switch",{model:{value:e.activeData.clearable,callback:function(t){e.$set(e.activeData,"clearable",t)},expression:"activeData.clearable"}})],1):e._e(),e._v(" "),void 0!==e.activeData.showTip?a("el-form-item",{attrs:{label:"显示提示"}},[a("el-switch",{model:{value:e.activeData.showTip,callback:function(t){e.$set(e.activeData,"showTip",t)},expression:"activeData.showTip"}})],1):e._e(),e._v(" "),void 0!==e.activeData.multiple?a("el-form-item",{attrs:{label:"多选文件"}},[a("el-switch",{model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),e._v(" "),void 0!==e.activeData["auto-upload"]?a("el-form-item",{attrs:{label:"自动上传"}},[a("el-switch",{model:{value:e.activeData["auto-upload"],callback:function(t){e.$set(e.activeData,"auto-upload",t)},expression:"activeData['auto-upload']"}})],1):e._e(),e._v(" "),void 0!==e.activeData.readonly?a("el-form-item",{attrs:{label:"是否只读"}},[a("el-switch",{model:{value:e.activeData.readonly,callback:function(t){e.$set(e.activeData,"readonly",t)},expression:"activeData.readonly"}})],1):e._e(),e._v(" "),void 0!==e.activeData.disabled?a("el-form-item",{attrs:{label:"是否禁用"}},[a("el-switch",{model:{value:e.activeData.disabled,callback:function(t){e.$set(e.activeData,"disabled",t)},expression:"activeData.disabled"}})],1):e._e(),e._v(" "),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否可搜索"}},[a("el-switch",{model:{value:e.activeData.filterable,callback:function(t){e.$set(e.activeData,"filterable",t)},expression:"activeData.filterable"}})],1):e._e(),e._v(" "),"el-select"===e.activeData.tag?a("el-form-item",{attrs:{label:"是否多选"}},[a("el-switch",{on:{change:e.multipleChange},model:{value:e.activeData.multiple,callback:function(t){e.$set(e.activeData,"multiple",t)},expression:"activeData.multiple"}})],1):e._e(),e._v(" "),void 0!==e.activeData.required?a("el-form-item",{attrs:{label:"是否必填"}},[a("el-switch",{model:{value:e.activeData.required,callback:function(t){e.$set(e.activeData,"required",t)},expression:"activeData.required"}})],1):e._e(),e._v(" "),e.activeData.layoutTree?[a("el-divider",[e._v("布局结构树")]),e._v(" "),a("el-tree",{attrs:{data:[e.activeData],props:e.layoutTreeProps,"node-key":"renderKey","default-expand-all":"",draggable:""},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.node,o=t.data;return a("span",{},[a("span",{staticClass:"node-label"},[a("svg-icon",{staticClass:"node-icon",attrs:{"icon-class":o.tagIcon}}),e._v("\n                "+e._s(n.label)+"\n              ")],1)])}}],null,!1,2951611081)})]:e._e(),e._v(" "),"colFormItem"===e.activeData.layout?[a("el-divider",[e._v("正则校验")]),e._v(" "),e._l(e.activeData.regList,(function(t,n){return a("div",{key:n,staticClass:"reg-item"},[a("span",{staticClass:"close-btn",on:{click:function(t){return e.activeData.regList.splice(n,1)}}},[a("i",{staticClass:"el-icon-close"})]),e._v(" "),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{placeholder:"请输入正则"},model:{value:t.pattern,callback:function(a){e.$set(t,"pattern",a)},expression:"item.pattern"}})],1),e._v(" "),a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"错误提示"}},[a("el-input",{attrs:{placeholder:"请输入错误提示"},model:{value:t.message,callback:function(a){e.$set(t,"message",a)},expression:"item.message"}})],1)],1)})),e._v(" "),a("div",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{icon:"el-icon-circle-plus-outline",type:"text"},on:{click:e.addReg}},[e._v("\n              添加规则\n            ")])],1)]:e._e()],2),e._v(" "),a("el-form",{directives:[{name:"show",rawName:"v-show",value:"form"===e.currentTab,expression:"currentTab === 'form'"}],attrs:{size:"small","label-width":"90px"}},[a("el-form-item",{attrs:{label:"表单名"}},[a("el-input",{attrs:{placeholder:"请输入表单名（ref）"},model:{value:e.formConf.formRef,callback:function(t){e.$set(e.formConf,"formRef",t)},expression:"formConf.formRef"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单模型"}},[a("el-input",{attrs:{placeholder:"请输入数据模型"},model:{value:e.formConf.formModel,callback:function(t){e.$set(e.formConf,"formModel",t)},expression:"formConf.formModel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"校验模型"}},[a("el-input",{attrs:{placeholder:"请输入校验模型"},model:{value:e.formConf.formRules,callback:function(t){e.$set(e.formConf,"formRules",t)},expression:"formConf.formRules"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单尺寸"}},[a("el-radio-group",{model:{value:e.formConf.size,callback:function(t){e.$set(e.formConf,"size",t)},expression:"formConf.size"}},[a("el-radio-button",{attrs:{label:"medium"}},[e._v("\n              中等\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"small"}},[e._v("\n              较小\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"mini"}},[e._v("\n              迷你\n            ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签对齐"}},[a("el-radio-group",{model:{value:e.formConf.labelPosition,callback:function(t){e.$set(e.formConf,"labelPosition",t)},expression:"formConf.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v("\n              左对齐\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"right"}},[e._v("\n              右对齐\n            ")]),e._v(" "),a("el-radio-button",{attrs:{label:"top"}},[e._v("\n              顶部对齐\n            ")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"标签宽度"}},[a("el-input-number",{attrs:{placeholder:"标签宽度"},model:{value:e.formConf.labelWidth,callback:function(t){e.$set(e.formConf,"labelWidth",t)},expression:"formConf.labelWidth"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"栅格间隔"}},[a("el-input-number",{attrs:{min:0,placeholder:"栅格间隔"},model:{value:e.formConf.gutter,callback:function(t){e.$set(e.formConf,"gutter",t)},expression:"formConf.gutter"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"禁用表单"}},[a("el-switch",{model:{value:e.formConf.disabled,callback:function(t){e.$set(e.formConf,"disabled",t)},expression:"formConf.disabled"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表单按钮"}},[a("el-switch",{model:{value:e.formConf.formBtns,callback:function(t){e.$set(e.formConf,"formBtns",t)},expression:"formConf.formBtns"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示未选中组件边框"}},[a("el-switch",{model:{value:e.formConf.unFocusedComponentBorder,callback:function(t){e.$set(e.formConf,"unFocusedComponentBorder",t)},expression:"formConf.unFocusedComponentBorder"}})],1)],1)],1)],1),e._v(" "),a("treeNode-dialog",{attrs:{visible:e.dialogVisible,title:"添加选项"},on:{"update:visible":function(t){e.dialogVisible=t},commit:e.addNode}}),e._v(" "),a("icons-dialog",{attrs:{visible:e.iconsVisible,current:e.activeData[e.currentIconModel]},on:{"update:visible":function(t){e.iconsVisible=t},select:e.setIcon}})],1)},o=[],l=(a("7514"),a("28a5"),a("20d6"),a("3022")),i=a("c81a"),r=a("ed08"),s=a("d0b2"),c=a("2e2a"),u={date:"yyyy-MM-dd",week:"yyyy 第 WW 周",month:"yyyy-MM",year:"yyyy",datetime:"yyyy-MM-dd HH:mm:ss",daterange:"yyyy-MM-dd",monthrange:"yyyy-MM",datetimerange:"yyyy-MM-dd HH:mm:ss"},d={components:{TreeNodeDialog:i["default"],IconsDialog:s["default"]},props:["showField","activeData","formConf"],data:function(){return{currentTab:"field",currentNode:null,dialogVisible:!1,iconsVisible:!1,currentIconModel:null,dateTypeOptions:[{label:"日(date)",value:"date"},{label:"周(week)",value:"week"},{label:"月(month)",value:"month"},{label:"年(year)",value:"year"},{label:"日期时间(datetime)",value:"datetime"}],dateRangeTypeOptions:[{label:"日期范围(daterange)",value:"daterange"},{label:"月范围(monthrange)",value:"monthrange"},{label:"日期时间范围(datetimerange)",value:"datetimerange"}],colorFormatOptions:[{label:"hex",value:"hex"},{label:"rgb",value:"rgb"},{label:"rgba",value:"rgba"},{label:"hsv",value:"hsv"},{label:"hsl",value:"hsl"}],justifyOptions:[{label:"start",value:"start"},{label:"end",value:"end"},{label:"center",value:"center"},{label:"space-around",value:"space-around"},{label:"space-between",value:"space-between"}],layoutTreeProps:{label:function(e,t){return e.componentName||"".concat(e.label,": ").concat(e.vModel)}}}},computed:{documentLink:function(){return this.activeData.document||"https://element.eleme.cn/#/zh-CN/component/installation"},dateOptions:function(){return void 0!==this.activeData.type&&"el-date-picker"===this.activeData.tag?void 0===this.activeData["start-placeholder"]?this.dateTypeOptions:this.dateRangeTypeOptions:[]},tagList:function(){return[{label:"输入型组件",options:c["b"]},{label:"选择型组件",options:c["d"]}]}},methods:{addReg:function(){this.activeData.regList.push({pattern:"",message:""})},addSelectItem:function(){this.activeData.options.push({label:"",value:""})},addTreeItem:function(){++this.idGlobal,this.dialogVisible=!0,this.currentNode=this.activeData.options},renderContent:function(e,t){var a=this,n=t.node,o=t.data;t.store;return e("div",{class:"custom-tree-node"},[e("span",[n.label]),e("span",{class:"node-operation"},[e("i",{on:{click:function(){return a.append(o)}},class:"el-icon-plus",attrs:{title:"添加"}}),e("i",{on:{click:function(){return a.remove(n,o)}},class:"el-icon-delete",attrs:{title:"删除"}})])])},append:function(e){e.children||this.$set(e,"children",[]),this.dialogVisible=!0,this.currentNode=e.children},remove:function(e,t){var a=e.parent,n=a.data.children||a.data,o=n.findIndex((function(e){return e.id===t.id}));n.splice(o,1)},addNode:function(e){this.currentNode.push(e)},setOptionValue:function(e,t){e.value=Object(r["e"])(t)?+t:t},setDefaultValue:function(e){return Array.isArray(e)?e.join(","):["string","number"].indexOf(e)>-1?e:"boolean"===typeof e?"".concat(e):e},onDefaultValueInput:function(e){Object(l["isArray"])(this.activeData.defaultValue)?this.$set(this.activeData,"defaultValue",e.split(",").map((function(e){return Object(r["e"])(e)?+e:e}))):["true","false"].indexOf(e)>-1?this.$set(this.activeData,"defaultValue",JSON.parse(e)):this.$set(this.activeData,"defaultValue",Object(r["e"])(e)?+e:e)},onSwitchValueInput:function(e,t){["true","false"].indexOf(e)>-1?this.$set(this.activeData,t,JSON.parse(e)):this.$set(this.activeData,t,Object(r["e"])(e)?+e:e)},setTimeValue:function(e,t){var a="week"===t?u.date:e;this.$set(this.activeData,"defaultValue",null),this.$set(this.activeData,"value-format",a),this.$set(this.activeData,"format",e)},spanChange:function(e){this.formConf.span=e},multipleChange:function(e){this.$set(this.activeData,"defaultValue",e?[]:"")},dateTypeChange:function(e){this.setTimeValue(u[e],e)},rangeChange:function(e){this.$set(this.activeData,"defaultValue",e?[this.activeData.min,this.activeData.max]:this.activeData.min)},rateTextChange:function(e){e&&(this.activeData["show-score"]=!1)},rateScoreChange:function(e){e&&(this.activeData["show-text"]=!1)},colorFormatChange:function(e){this.activeData.defaultValue=null,this.activeData["show-alpha"]=e.indexOf("a")>-1,this.activeData.renderKey=+new Date},openIconsDialog:function(e){this.iconsVisible=!0,this.currentIconModel=e},setIcon:function(e){this.activeData[this.currentIconModel]=e},tagChange:function(e){var t=c["b"].find((function(t){return t.tagIcon===e}));t||(t=c["d"].find((function(t){return t.tagIcon===e}))),this.$emit("tag-change",t)}}},m=d,p=(a("e4ce"),a("2877")),f=Object(p["a"])(m,n,o,!1,null,"80832d0c",null);t["default"]=f.exports},"76f8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-card",[a("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"基本信息",name:"basic"}},[a("basic-info-form",{ref:"basicInfo",attrs:{info:e.info}})],1),e._v(" "),a("el-tab-pane",{attrs:{label:"字段信息",name:"cloum"}},[a("el-table",{ref:"dragTable",attrs:{data:e.cloumns,"row-key":"columnId","max-height":e.tableHeight}},[a("el-table-column",{attrs:{label:"序号",type:"index","min-width":"5%","class-name":"allowDrag"}}),e._v(" "),a("el-table-column",{attrs:{label:"字段列名",prop:"column_name","min-width":"10%","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"字段描述","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.column_comment,callback:function(a){e.$set(t.row,"column_comment",a)},expression:"scope.row.column_comment"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"物理类型",prop:"column_type","min-width":"10%","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"go类型","min-width":"11%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.go_type,callback:function(a){e.$set(t.row,"go_type",a)},expression:"scope.row.go_type"}},[a("el-option",{attrs:{label:"int64",value:"int64"}}),e._v(" "),a("el-option",{attrs:{label:"int32",value:"int32"}}),e._v(" "),a("el-option",{attrs:{label:"int",value:"int"}}),e._v(" "),a("el-option",{attrs:{label:"string",value:"string"}}),e._v(" "),a("el-option",{attrs:{label:"Time",value:"Time"}}),e._v(" "),a("el-option",{attrs:{label:"float64",value:"float64"}}),e._v(" "),a("el-option",{attrs:{label:"byte",value:"byte"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"go属性","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{model:{value:t.row.go_field,callback:function(a){e.$set(t.row,"go_field",a)},expression:"scope.row.go_field"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"插入","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.is_insert,callback:function(a){e.$set(t.row,"is_insert",a)},expression:"scope.row.is_insert"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"编辑","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.is_edit,callback:function(a){e.$set(t.row,"is_edit",a)},expression:"scope.row.is_edit"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"列表","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.is_list,callback:function(a){e.$set(t.row,"is_list",a)},expression:"scope.row.is_list"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.is_query,callback:function(a){e.$set(t.row,"is_query",a)},expression:"scope.row.is_query"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"查询方式","min-width":"10%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.query_type,callback:function(a){e.$set(t.row,"query_type",a)},expression:"scope.row.query_type"}},[a("el-option",{attrs:{label:"=",value:"EQ"}}),e._v(" "),a("el-option",{attrs:{label:"!=",value:"NE"}}),e._v(" "),a("el-option",{attrs:{label:">",value:"GT"}}),e._v(" "),a("el-option",{attrs:{label:">=",value:"GTE"}}),e._v(" "),a("el-option",{attrs:{label:"<",value:"LT"}}),e._v(" "),a("el-option",{attrs:{label:"<=",value:"LTE"}}),e._v(" "),a("el-option",{attrs:{label:"LIKE",value:"LIKE"}}),e._v(" "),a("el-option",{attrs:{label:"BETWEEN",value:"BETWEEN"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"必填","min-width":"5%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{attrs:{"true-label":"1"},model:{value:t.row.is_required,callback:function(a){e.$set(t.row,"is_required",a)},expression:"scope.row.is_required"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"显示类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{model:{value:t.row.html_type,callback:function(a){e.$set(t.row,"html_type",a)},expression:"scope.row.html_type"}},[a("el-option",{attrs:{label:"文本框",value:"input"}}),e._v(" "),a("el-option",{attrs:{label:"文本域",value:"textarea"}}),e._v(" "),a("el-option",{attrs:{label:"下拉框",value:"select"}}),e._v(" "),a("el-option",{attrs:{label:"单选框",value:"radio"}}),e._v(" "),a("el-option",{attrs:{label:"复选框",value:"checkbox"}}),e._v(" "),a("el-option",{attrs:{label:"日期控件",value:"datetime"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"字典类型","min-width":"12%"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{clearable:"",filterable:"",placeholder:"请选择"},model:{value:t.row.dict_type,callback:function(a){e.$set(t.row,"dict_type",a)},expression:"scope.row.dict_type"}},e._l(e.dictOptions,(function(t){return a("el-option",{key:t.dict_type,attrs:{label:t.dict_name,value:t.dict_type}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.dict_name))]),e._v(" "),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.dict_type))])])})),1)]}}])})],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"生成信息",name:"genInfo"}},[a("gen-info-form",{ref:"genInfo",attrs:{info:e.info}})],1)],1),e._v(" "),a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{staticStyle:{"text-align":"center","margin-left":"-100px","margin-top":"10px"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm()}}},[e._v("提交")]),e._v(" "),a("el-button",{on:{click:function(t){return e.close()}}},[e._v("返回")])],1)],1)],1)},o=[],l=(a("ac6a"),a("5df3"),a("4b72")),i=a("ed45"),r=a("ed69"),s=a("8586"),c=a("aa47"),u={name:"GenEdit",components:{basicInfoForm:r["default"],genInfoForm:s["default"]},data:function(){return{activeName:"cloum",tableHeight:document.documentElement.scrollHeight-245+"px",cloumns:[],dictOptions:[],info:{}}},beforeCreate:function(){var e=this,t=this.$route.query.tableId;t&&(Object(l["b"])(t).then((function(t){e.cloumns=t.data.rows,e.info=t.data.info})),Object(i["f"])().then((function(t){e.dictOptions=t.data})))},methods:{submitForm:function(){var e=this,t=this.$refs.basicInfo.$refs.basicInfoForm,a=this.$refs.genInfo.$refs.genInfoForm;Promise.all([t,a].map(this.getFormPromise)).then((function(n){var o=n.every((function(e){return!!e}));if(o){var i=Object.assign({},t.model,a.model);i.columns=JSON.stringify(e.cloumns),i.params=JSON.stringify({treeCode:i.treeCode,treeName:i.treeName,treeParentCode:i.treeParentCode}),Object(l["g"])(i).then((function(t){e.msgSuccess(t.msg),0===t.code&&e.close()}))}else e.msgError("表单校验未通过，请重新检查提交内容")}))},getFormPromise:function(e){return new Promise((function(t){e.validate((function(e){t(e)}))}))},close:function(){this.$store.dispatch("tagsView/delView",this.$route),this.$router.push({path:"/tool/gen",query:{t:Date.now()}})}},mounted:function(){var e=this,t=this.$refs.dragTable.$el.querySelectorAll(".el-table__body-wrapper > table > tbody")[0];c["default"].create(t,{handle:".allowDrag",onEnd:function(t){var a=e.cloumns.splice(t.oldIndex,1)[0];for(var n in e.cloumns.splice(t.newIndex,0,a),e.cloumns)e.cloumns[n].sort=parseInt(n)+1}})}},d=u,m=a("2877"),p=Object(m["a"])(d,n,o,!1,null,null,null);t["default"]=p.exports},7718:function(e,t,a){"use strict";a("4db4")},7791:function(e,t,a){},"77e1":function(e,t,a){},"80de":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return makeUpJs}));var core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("456d"),core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_object_keys__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("3022"),util__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(util__WEBPACK_IMPORTED_MODULE_2__),_utils_index__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("ed08"),_config__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2e2a"),units={KB:"1024",MB:"1024 / 1024",GB:"1024 / 1024 / 1024"},confGlobal,inheritAttrs={file:"",dialog:"inheritAttrs: false,"};function makeUpJs(e,t){confGlobal=e=JSON.parse(JSON.stringify(e));var a=[],n=[],o=[],l=[],i=mixinMethod(t),r=[];e.fields.forEach((function(e){buildAttributes(e,a,n,o,i,l,r)}));var s=buildexport(e,t,a.join("\n"),n.join("\n"),o.join("\n"),r.join("\n"),l.join("\n"),i.join("\n"));return confGlobal=null,s}function buildAttributes(e,t,a,n,o,l,i){if(buildData(e,t),buildRules(e,a),e.options&&e.options.length&&(buildOptions(e,n),"dynamic"===e.dataType)){var r="".concat(e.vModel,"Options"),s=Object(_utils_index__WEBPACK_IMPORTED_MODULE_3__["h"])(r);buildOptionMethod("get".concat(s),r,o)}e.props&&e.props.props&&buildProps(e,l),e.action&&"el-upload"===e.tag&&(i.push("".concat(e.vModel,"Action: '").concat(e.action,"',\n      ").concat(e.vModel,"fileList: [],")),o.push(buildBeforeUpload(e)),e["auto-upload"]||o.push(buildSubmitUpload(e))),e.children&&e.children.forEach((function(e){buildAttributes(e,t,a,n,o,l,i)}))}function mixinMethod(e){var t=[],a={file:confGlobal.formBtns?{submitForm:"submitForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          // TODO 提交表单\n        })\n      },"),resetForm:"resetForm() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },")}:null,dialog:{onOpen:"onOpen() {},",onClose:"onClose() {\n        this.$refs['".concat(confGlobal.formRef,"'].resetFields()\n      },"),close:"close() {\n        this.$emit('update:visible', false)\n      },",handelConfirm:"handelConfirm() {\n        this.$refs['".concat(confGlobal.formRef,"'].validate(valid => {\n          if(!valid) return\n          this.close()\n        })\n      },")}},n=a[e];return n&&Object.keys(n).forEach((function(e){t.push(n[e])})),t}function buildData(e,t){var a;void 0!==e.vModel&&(a="string"!==typeof e.defaultValue||e.multiple?"".concat(JSON.stringify(e.defaultValue)):"'".concat(e.defaultValue,"'"),t.push("".concat(e.vModel,": ").concat(a,",")))}function buildRules(conf,ruleList){if(void 0!==conf.vModel){var rules=[];if(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag]){if(conf.required){var type=Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.defaultValue)?"type: 'array',":"",message=Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.defaultValue)?"请至少选择一个".concat(conf.vModel):conf.placeholder;void 0===message&&(message="".concat(conf.label,"不能为空")),rules.push("{ required: true, ".concat(type," message: '").concat(message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag],"' }"))}conf.regList&&Object(util__WEBPACK_IMPORTED_MODULE_2__["isArray"])(conf.regList)&&conf.regList.forEach((function(item){item.pattern&&rules.push("{ pattern: ".concat(eval(item.pattern),", message: '").concat(item.message,"', trigger: '").concat(_config__WEBPACK_IMPORTED_MODULE_4__["e"][conf.tag],"' }"))})),ruleList.push("".concat(conf.vModel,": [").concat(rules.join(","),"],"))}}}function buildOptions(e,t){if(void 0!==e.vModel){"dynamic"===e.dataType&&(e.options=[]);var a="".concat(e.vModel,"Options: ").concat(JSON.stringify(e.options),",");t.push(a)}}function buildProps(e,t){"dynamic"===e.dataType&&("value"!==e.valueKey&&(e.props.props.value=e.valueKey),"label"!==e.labelKey&&(e.props.props.label=e.labelKey),"children"!==e.childrenKey&&(e.props.props.children=e.childrenKey));var a="".concat(e.vModel,"Props: ").concat(JSON.stringify(e.props.props),",");t.push(a)}function buildBeforeUpload(e){var t=units[e.sizeUnit],a="",n="",o=[];e.fileSize&&(a="let isRightSize = file.size / ".concat(t," < ").concat(e.fileSize,"\n    if(!isRightSize){\n      this.$message.error('文件大小超过 ").concat(e.fileSize).concat(e.sizeUnit,"')\n    }"),o.push("isRightSize")),e.accept&&(n="let isAccept = new RegExp('".concat(e.accept,"').test(file.type)\n    if(!isAccept){\n      this.$message.error('应该选择").concat(e.accept,"类型的文件')\n    }"),o.push("isAccept"));var l="".concat(e.vModel,"BeforeUpload(file) {\n    ").concat(a,"\n    ").concat(n,"\n    return ").concat(o.join("&&"),"\n  },");return o.length?l:""}function buildSubmitUpload(e){var t="submitUpload() {\n    this.$refs['".concat(e.vModel,"'].submit()\n  },");return t}function buildOptionMethod(e,t,a){var n="".concat(e,"() {\n    // TODO 发起请求获取数据\n    this.").concat(t,"\n  },");a.push(n)}function buildexport(e,t,a,n,o,l,i,r){var s="".concat(_utils_index__WEBPACK_IMPORTED_MODULE_3__["d"],"{\n  ").concat(inheritAttrs[t],"\n  components: {},\n  props: [],\n  data () {\n    return {\n      ").concat(e.formModel,": {\n        ").concat(a,"\n      },\n      ").concat(e.formRules,": {\n        ").concat(n,"\n      },\n      ").concat(l,"\n      ").concat(o,"\n      ").concat(i,"\n    }\n  },\n  computed: {},\n  watch: {},\n  created () {},\n  mounted () {},\n  methods: {\n    ").concat(r,"\n  }\n}");return s}},"81a5":function(e,t,a){e.exports=a.p+"resource-admin/img/logo.4eeb8a8e.png"},"82c8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"表名称",prop:"tableName"}},[a("el-input",{attrs:{placeholder:"请输入表名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableName,callback:function(t){e.$set(e.queryParams,"tableName",t)},expression:"queryParams.tableName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"表描述",prop:"tableComment"}},[a("el-input",{attrs:{placeholder:"请输入表描述",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.tableComment,callback:function(t){e.$set(e.queryParams,"tableComment",t)},expression:"queryParams.tableComment"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{staticStyle:{width:"240px"},attrs:{size:"small","value-format":"yyyy-MM-dd",type:"daterange","range-separator":"-","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["GET:/tool/gen/batchGenCode"],expression:"['GET:/tool/gen/batchGenCode']"}],attrs:{type:"primary",icon:"el-icon-download",size:"mini"},on:{click:e.handleGenTable}},[e._v("生成")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/tool/gen"],expression:"['POST:/tool/gen']"}],attrs:{type:"info",icon:"el-icon-upload",size:"mini"},on:{click:e.openImportTable}},[e._v("导入")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/tool/gen"],expression:"['PUT:/tool/gen']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleEditTable}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/tool/gen"],expression:"['DELETE:/tool/gen']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.tableList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{label:"序号",type:"index",width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s((e.queryParams.pageNum-1)*e.queryParams.pageSize+t.$index+1))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"表名称",align:"center",prop:"table_name","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"表描述",align:"center",prop:"table_comment","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"实体",align:"center",prop:"class_name","show-overflow-tooltip":!0,width:"130"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"更新时间",align:"center",prop:"update_time",width:"160"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["GET:/tool/gen/preview"],expression:"['GET:/tool/gen/preview']"}],attrs:{type:"text",size:"small",icon:"el-icon-view"},on:{click:function(a){return e.handlePreview(t.row)}}},[e._v("预览")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUST:/tool/gen"],expression:"['PUST:/tool/gen']"}],attrs:{type:"text",size:"small",icon:"el-icon-edit"},on:{click:function(a){return e.handleEditTable(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/tool/gen"],expression:"['DELETE:/tool/gen']"}],attrs:{type:"text",size:"small",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["GET:/tool/gen/batchGenCode"],expression:"['GET:/tool/gen/batchGenCode']"}],attrs:{type:"text",size:"small",icon:"el-icon-download"},on:{click:function(a){return e.handleGenTable(t.row)}}},[e._v("生成代码")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.preview.title,visible:e.preview.open,width:"80%",top:"5vh","append-to-body":""},on:{"update:visible":function(t){return e.$set(e.preview,"open",t)}}},[a("el-tabs",{model:{value:e.preview.activeName,callback:function(t){e.$set(e.preview,"activeName",t)},expression:"preview.activeName"}},e._l(e.preview.data,(function(t,n){return a("el-tab-pane",{key:n,attrs:{label:n.substring(n.lastIndexOf("/")+1,n.indexOf(".vm")),name:n.substring(n.lastIndexOf("/")+1,n.indexOf(".vm"))}},[a("pre",{staticStyle:{overflow:"auto",height:"30rem"}},[e._v(e._s(t))])])})),1)],1),e._v(" "),a("import-table",{ref:"import",on:{ok:e.handleQuery}})],1)},o=[],l=a("4b72"),i=a("6f72"),r=(a("a481"),a("3b2b"),a("bc3a")),s=a.n(r),c=a("5f87"),u={xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"},d="/admin";function m(e){var t=d+e;s()({method:"get",url:t,responseType:"blob",headers:{Authorization:"Bearer "+Object(c["a"])()}}).then((function(e){p(e,u.zip)}))}function p(e,t){var a=document.createElement("a"),n=new Blob([e.data],{type:t}),o=new RegExp("filename=([^;]+\\.[^\\.;]+);*"),l=decodeURI(e.headers["content-disposition"]),i=o.exec(l),r=i[1];r=r.replace(/\"/g,""),a.href=URL.createObjectURL(n),a.setAttribute("download",r),document.body.appendChild(a),a.click(),document.body.appendChild(a)}var f={name:"Gen",components:{importTable:i["default"]},data:function(){return{loading:!0,uniqueId:"",ids:[],tableNames:[],single:!0,multiple:!0,total:0,tableList:[],dateRange:"",queryParams:{pageNum:1,pageSize:10,tableName:void 0,tableComment:void 0},preview:{open:!1,title:"代码预览",data:{},activeName:"controller.go"}}},created:function(){this.getList()},activated:function(){var e=this.$route.query.t;null!=e&&e!=this.uniqueId&&(this.uniqueId=e,this.resetQuery())},methods:{getList:function(){var e=this;this.loading=!0,Object(l["e"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.tableList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleGenTable:function(e){var t=e.table_id||this.tableIds;""!=t&&void 0!=t?m("/tool/gen/batchGenCode?tableId="+t):this.msgError("请选择要生成的数据")},openImportTable:function(){this.$refs.import.show()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handlePreview:function(e){var t=this;Object(l["f"])(e.table_id).then((function(e){t.preview.data=e.data,t.preview.open=!0}))},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.table_id})).join(","),this.tableNames=e.map((function(e){return e.table_name})),this.single=1!=e.length,this.multiple=!e.length},handleEditTable:function(e){var t=e.table_id||this.ids[0];this.$router.push({path:"/gen/edit",query:{tableId:t}})},handleDelete:function(e){var t=this,a=e.table_id||this.ids;this.$confirm('是否确认删除表编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["a"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(e){console.log(e)}))}}},v=f,h=a("2877"),b=Object(h["a"])(v,n,o,!1,null,null,null);t["default"]=b.exports},8586:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"genInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"tpl_category"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("生成模板")]),e._v(" "),a("el-select",{model:{value:e.info.tpl_category,callback:function(t){e.$set(e.info,"tpl_category",t)},expression:"info.tpl_category"}},[a("el-option",{attrs:{label:"单表（增删改查）",value:"crud"}}),e._v(" "),a("el-option",{attrs:{label:"树表（增删改查）",value:"tree"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"package_name"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成根包名\n          "),a("el-tooltip",{attrs:{content:"生成在哪个包下",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.package_name,callback:function(t){e.$set(e.info,"package_name",t)},expression:"info.package_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"module_name"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成模块名\n          "),a("el-tooltip",{attrs:{content:"可理解为子系统名，例如 system",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.module_name,callback:function(t){e.$set(e.info,"module_name",t)},expression:"info.module_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"business_name"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成业务名\n          "),a("el-tooltip",{attrs:{content:"可理解为功能英文名，例如 user",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.business_name,callback:function(t){e.$set(e.info,"business_name",t)},expression:"info.business_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{prop:"function_name"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          生成功能名\n          "),a("el-tooltip",{attrs:{content:"用作类描述，例如 用户",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-input",{model:{value:e.info.function_name,callback:function(t){e.$set(e.info,"function_name",t)},expression:"info.function_name"}})],1)],1)],1),e._v(" "),a("el-row",{directives:[{name:"show",rawName:"v-show",value:"tree"==e.info.tpl_category,expression:"info.tpl_category == 'tree'"}]},[a("h4",{staticClass:"form-header"},[e._v("其他信息")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的编码字段名， 如：dept_id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeCode,callback:function(t){e.$set(e.info,"treeCode",t)},expression:"info.treeCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.column_name,attrs:{label:e.column_name+"："+e.column_comment,value:e.column_name}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树父编码字段\n          "),a("el-tooltip",{attrs:{content:"树显示的父编码字段名， 如：parent_Id",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeParentCode,callback:function(t){e.$set(e.info,"treeParentCode",t)},expression:"info.treeParentCode"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.column_name,attrs:{label:e.column_name+"："+e.column_comment,value:e.column_name}})})),1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("span",{attrs:{slot:"label"},slot:"label"},[e._v("\n          树名称字段\n          "),a("el-tooltip",{attrs:{content:"树节点的显示名称字段名， 如：dept_name",placement:"top"}},[a("i",{staticClass:"el-icon-question"})])],1),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.info.treeName,callback:function(t){e.$set(e.info,"treeName",t)},expression:"info.treeName"}},e._l(e.info.columns,(function(e){return a("el-option",{key:e.column_name,attrs:{label:e.column_name+"："+e.column_comment,value:e.column_name}})})),1)],1)],1)],1)],1)},o=[],l={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{tpl_category:[{required:!0,message:"请选择生成模板",trigger:"blur"}],package_name:[{required:!0,message:"请输入生成包路径",trigger:"blur"}],module_name:[{required:!0,message:"请输入生成模块名",trigger:"blur"}],business_name:[{required:!0,message:"请输入生成业务名",trigger:"blur"}],function_name:[{required:!0,message:"请输入生成功能名",trigger:"blur"}]}}},created:function(){}},i=l,r=a("2877"),s=Object(r["a"])(i,n,o,!1,null,null,null);t["default"]=s.exports},"8a24":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},o=[],l=(a("c0c7"),{data:function(){},methods:{}}),i=l,r=a("2877"),s=Object(r["a"])(i,n,o,!1,null,null,null);t["default"]=s.exports},"8da2":function(e,t,a){"use strict";a("4fa6")},"8dd8":function(e,t,a){},"902c":function(e,t,a){},9179:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"},on:{click:function(t){return e.editCropper()}}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-row",[a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox},on:{realTime:e.realTime}})],1),e._v(" "),a("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),e._v(" "),a("br"),e._v(" "),a("el-row",[a("el-col",{attrs:{lg:2,md:2}},[a("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[a("el-button",{attrs:{size:"small"}},[e._v("\n            上传\n            "),a("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),e._v(" "),a("el-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)},o=[],l=(a("7f7f"),a("4360")),i=a("7e79"),r=a("c0c7"),s={components:{VueCropper:i["VueCropper"]},props:{user:{type:Object}},data:function(){return{open:!1,title:"修改头像",filename:"",options:{img:l["a"].getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0},previews:{}}},methods:{editCropper:function(){this.open=!0,this.filename=""},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{this.filename=e.name;var a=new FileReader;a.readAsDataURL(e),a.onload=function(){t.options.img=a.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var a=new FormData;a.append("avatar_file",t,"avatar_file"),Object(r["i"])(a).then((function(t){0===t.code?(e.open=!1,e.options.img=t.data.avatar_url,e.msgSuccess("修改成功")):e.msgError(t.msg),e.$refs.cropper.clearCrop()}))}))},realTime:function(e){this.previews=e}}},c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports},"926e":function(e,t,a){"use strict";a("7791")},9488:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],l=a("313e"),i=a.n(l),r=a("feb2");a("817d");var s=6e3,c={mixins:[r["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:s},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:s},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:s}]})}}},u=c,d=a("2877"),m=Object(d["a"])(u,n,o,!1,null,null,null);t["default"]=m.exports},9556:function(e,t,a){},9643:function(e,t,a){"use strict";a("da11")},"96d8":function(e,t,a){"use strict";a("57ff")},"9b8f":function(e,t,a){"use strict";a.r(t);a("a481");var n,o,l={created:function(){var e=this.$route,t=e.params,a=e.query,n=t.path;this.$router.replace({path:"/"+n,query:a})},render:function(e){return e()}},i=l,r=a("2877"),s=Object(r["a"])(i,n,o,!1,null,null,null);t["default"]=s.exports},"9ec8":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,xs:24}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.emailList}},[a("el-table-column",{attrs:{label:"编号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",width:"100px",align:"center",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型","show-overflow-tooltip":!0,align:"center",prop:"type"}}),e._v(" "),a("el-table-column",{attrs:{label:"邮箱","show-overflow-tooltip":!0,align:"center",prop:"email"}}),e._v(" "),a("el-table-column",{attrs:{label:"标题","show-overflow-tooltip":!0,align:"center",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"内容","show-overflow-tooltip":!0,align:"center",prop:"content"}}),e._v(" "),a("el-table-column",{attrs:{label:"错误","show-overflow-tooltip":!0,align:"center",prop:"error"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("查看内容\n            ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"内容",visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("div",{domProps:{innerHTML:e._s(e.viewContent)}})])],1)},o=[],l=a("1540"),i={name:"email-record",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,form:{},defaultProps:{children:"children",label:"label"},queryParams:{page:1,size:10,username:void 0,email:void 0},emailList:[],viewContent:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["y"])(this.queryParams).then((function(t){e.emailList=t.data.list,e.total=t.data.total,e.loading=!1}))},handleView:function(e){this.open=!0,console.log(e.content,2222),this.viewContent=e.content},cancel:function(){this.open=!1,this.reset()},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleDelete:function(e){var t=this,a=e.id;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["h"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},a36b:function(e,t,a){e.exports=a.p+"resource-admin/img/404.a57b6f31.png"},a6dc:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return s}));var n=a("b775");function o(e){return Object(n["a"])({url:"/menu-list",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/menu-info",method:"get",params:{id:e}})}function i(e){return Object(n["a"])({url:"/menu-store",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/menu-update",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/menu-destroy",method:"delete",params:{id:e}})}},a76f:function(e,t,a){"use strict";a("9556")},a85b:function(e,t,a){"use strict";a("456d"),a("ac6a");var n=a("ed08"),o=Object(n["f"])("accept,accept-charset,accesskey,action,align,alt,async,autocomplete,autofocus,autoplay,autosave,bgcolor,border,buffered,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,http-equiv,name,contenteditable,contextmenu,controls,coords,data,datetime,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,method,for,form,formaction,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,ismap,itemprop,keytype,kind,label,lang,language,list,loop,low,manifest,max,maxlength,media,method,GET,POST,min,multiple,email,file,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,seamless,selected,shape,size,type,text,password,sizes,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,type,usemap,value,width,wrap");function l(e,t,a){t.props.value=a,t.on.input=function(t){e.$emit("input",t)}}var i={"el-input":{prepend:function(e,t,a){return e("template",{slot:"prepend"},[t[a]])},append:function(e,t,a){return e("template",{slot:"append"},[t[a]])}},"el-select":{options:function(e,t,a){var n=[];return t.options.forEach((function(t){n.push(e("el-option",{attrs:{label:t.label,value:t.value,disabled:t.disabled}}))})),n}},"el-radio-group":{options:function(e,t,a){var n=[];return t.options.forEach((function(a){"button"===t.optionType?n.push(e("el-radio-button",{attrs:{label:a.value}},[a.label])):n.push(e("el-radio",{attrs:{label:a.value,border:t.border}},[a.label]))})),n}},"el-checkbox-group":{options:function(e,t,a){var n=[];return t.options.forEach((function(a){"button"===t.optionType?n.push(e("el-checkbox-button",{attrs:{label:a.value}},[a.label])):n.push(e("el-checkbox",{attrs:{label:a.value,border:t.border}},[a.label]))})),n}},"el-upload":{"list-type":function(e,t,a){var n=[];return"picture-card"===t["list-type"]?n.push(e("i",{class:"el-icon-plus"})):n.push(e("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-upload"}},[t.buttonText])),t.showTip&&n.push(e("div",{slot:"tip",class:"el-upload__tip"},["只能上传不超过 ",t.fileSize,t.sizeUnit," 的",t.accept,"文件"])),n}}};t["a"]={render:function(e){var t=this,a={attrs:{},props:{},on:{},style:{}},n=JSON.parse(JSON.stringify(this.conf)),r=[],s=i[n.tag];return s&&Object.keys(s).forEach((function(t){var a=s[t];n[t]&&r.push(a(e,n,t))})),Object.keys(n).forEach((function(e){var i=n[e];"vModel"===e?l(t,a,n.defaultValue):a[e]?a[e]=i:o(e)?a.attrs[e]=i:a.props[e]=i})),e(this.conf.tag,a,r)},props:["conf"]}},a8a2:function(e,t,a){},a92a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{width:"500px","close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:15}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"medium","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"生成类型",prop:"type"}},[a("el-radio-group",{model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.typeOptions,(function(t,n){return a("el-radio-button",{key:n,attrs:{label:t.value,disabled:t.disabled}},[e._v("\n                "+e._s(t.label)+"\n              ")])})),1)],1),e._v(" "),e.showFileName?a("el-form-item",{attrs:{label:"文件名",prop:"fileName"}},[a("el-input",{attrs:{placeholder:"请输入文件名",clearable:""},model:{value:e.formData.fileName,callback:function(t){e.$set(e.formData,"fileName",t)},expression:"formData.fileName"}})],1):e._e()],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.close}},[e._v("\n        取消\n      ")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("\n        确定\n      ")])],1)],1)],1)},o=[],l=a("db72"),i={inheritAttrs:!1,props:["showFileName"],data:function(){return{formData:{fileName:void 0,type:"file"},rules:{fileName:[{required:!0,message:"请输入文件名",trigger:"blur"}],type:[{required:!0,message:"生成类型不能为空",trigger:"change"}]},typeOptions:[{label:"页面",value:"file"},{label:"弹窗",value:"dialog"}]}},computed:{},watch:{},mounted:function(){},methods:{onOpen:function(){this.showFileName&&(this.formData.fileName="".concat(+new Date,".vue"))},onClose:function(){},close:function(e){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&(e.$emit("confirm",Object(l["a"])({},e.formData)),e.close())}))}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},ac9f:function(e,t,a){"use strict";a("1092")},b0e7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"类型",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},[a("el-option",{attrs:{label:"登录奖励",value:"login"}}),e._v(" "),a("el-option",{attrs:{label:"注册奖励",value:"register"}}),e._v(" "),a("el-option",{attrs:{label:"发布主题扣除",value:"establish_post_deduct"}}),e._v(" "),a("el-option",{attrs:{label:"发布回复扣除",value:"establish_reply_deduct"}}),e._v(" "),a("el-option",{attrs:{label:"发布回复奖励创建主题者",value:"establish_reply_reward"}}),e._v(" "),a("el-option",{attrs:{label:"感谢回复扣除",value:"thanks_reply_deduct"}}),e._v(" "),a("el-option",{attrs:{label:"感谢回复奖励创建回复者",value:"thanks_reply_reward"}}),e._v(" "),a("el-option",{attrs:{label:"感谢主题扣除",value:"thanks_post_deduct"}}),e._v(" "),a("el-option",{attrs:{label:"感谢主题奖励创建主题者",value:"thanks_post_reward"}}),e._v(" "),a("el-option",{attrs:{label:"活跃度奖励",value:"activity"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.balanceLogList}},[a("el-table-column",{attrs:{label:"编号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",width:"100px",align:"center",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"type",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"primary"}},[e._v(e._s(t.row.type_show))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"金额",align:"center",prop:"amount"}}),e._v(" "),a("el-table-column",{attrs:{label:"变动前余额",align:"center",prop:"before"}}),e._v(" "),a("el-table-column",{attrs:{label:"变动后余额",align:"center",prop:"after"}}),e._v(" "),a("el-table-column",{attrs:{label:"关联id",align:"center",prop:"relation_id"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center","show-overflow-tooltip":!0,prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"内容",visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("div",{domProps:{innerHTML:e._s(e.viewContent)}})])],1)},o=[],l=a("1540"),i={name:"email-record",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,form:{},defaultProps:{children:"children",label:"label"},queryParams:{page:1,size:10,username:void 0,type:void 0},balanceLogList:[],viewContent:""}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["x"])(this.queryParams).then((function(t){e.balanceLogList=t.data.list,e.total=t.data.total,e.loading=!1}))},handleView:function(e){this.open=!0,console.log(e.content,2222),this.viewContent=e.content},cancel:function(){this.open=!1,this.reset()},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleDelete:function(e){var t=this,a=e.id;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["g"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},ba3f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"目标id",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入目标id",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.target_id,callback:function(t){e.$set(e.queryParams,"target_id",t)},expression:"queryParams.target_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"类型",clearable:"",size:"small"},model:{value:e.queryParams.type,callback:function(t){e.$set(e.queryParams,"type",t)},expression:"queryParams.type"}},[a("el-option",{attrs:{label:"感谢主题",value:"thanks_posts"}}),e._v(" "),a("el-option",{attrs:{label:"感谢回复",value:"thanks_reply"}}),e._v(" "),a("el-option",{attrs:{label:"屏蔽主题",value:"shield_posts"}}),e._v(" "),a("el-option",{attrs:{label:"屏蔽回复",value:"shield_reply"}}),e._v(" "),a("el-option",{attrs:{label:"收藏主题",value:"collect_posts"}}),e._v(" "),a("el-option",{attrs:{label:"收藏节点",value:"collect_nodes"}}),e._v(" "),a("el-option",{attrs:{label:"关注用户",value:"follow_user"}}),e._v(" "),a("el-option",{attrs:{label:"屏蔽用户",value:"shield_user"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.associationList}},[a("el-table-column",{attrs:{label:"编号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",width:"100px",align:"center",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"目标id",width:"100px",align:"center",prop:"target_id"}}),e._v(" "),a("el-table-column",{attrs:{label:"类型",align:"center",prop:"type",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return["thanks_post"===t.row.type?a("el-tag",{attrs:{type:"primary"}},[e._v("感谢主题")]):e._e(),e._v(" "),"thanks_reply"===t.row.type?a("el-tag",{attrs:{type:"primary"}},[e._v("感谢回复")]):e._e(),e._v(" "),"shield_post"===t.row.type?a("el-tag",{attrs:{type:"primary"}},[e._v("屏蔽主题")]):e._e(),e._v(" "),"shield_reply"===t.row.type?a("el-tag",{attrs:{type:"primary"}},[e._v("屏蔽回复")]):e._e(),e._v(" "),"collect_post"===t.row.type?a("el-tag",{attrs:{type:"primary"}},[e._v("收藏主题")]):e._e(),e._v(" "),"collect_node"===t.row.type?a("el-tag",{attrs:{type:"primary"}},[e._v("收藏节点")]):e._e(),e._v(" "),"follow_user"===t.row.type?a("el-tag",{attrs:{type:"primary"}},[e._v("关注用户")]):e._e(),e._v(" "),"shield_user"===t.row.type?a("el-tag",{attrs:{type:"primary"}},[e._v("屏蔽用户")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"内容","show-overflow-tooltip":!0,align:"center",prop:"target_content"}}),e._v(" "),a("el-table-column",{attrs:{label:"关联用户","show-overflow-tooltip":!0,align:"center",prop:"target_username"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"内容",visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("div",{domProps:{innerHTML:e._s(e.viewContent)}})])],1)},o=[],l=a("1540"),i={name:"association",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,title:"",open:!1,form:{},defaultProps:{children:"children",label:"label"},queryParams:{page:1,size:10,username:void 0,type:void 0,target_id:void 0},associationList:[],viewContent:""}},created:function(){this.queryParams.type=this.$route.query.type,this.queryParams.target_id=this.$route.query.targetId,this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["w"])(this.queryParams).then((function(t){e.associationList=t.data.list,e.total=t.data.total,e.loading=!1}))},handleView:function(e){this.open=!0,console.log(e.content,2222),this.viewContent=e.content},cancel:function(){this.open=!1,this.reset()},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},bb49:function(e,t,a){"use strict";a.r(t);var n=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"];t["default"]=n},be5f:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,xs:24}},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"用户状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"正常",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"禁止登录",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"禁止发帖",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"禁止回帖",value:"4"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/user"],expression:"['POST:/system/user']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n          ")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/user"],expression:"['DELETE:/system/user']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除\n          ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList}},[a("el-table-column",{attrs:{label:"用户编号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户名",width:"100px",align:"center",prop:"username"}}),e._v(" "),a("el-table-column",{attrs:{label:"邮箱",align:"center",prop:"email"}}),e._v(" "),a("el-table-column",{attrs:{label:"头像",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{attrs:{src:e.row.avatar,alt:""}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"主题数量",align:"center",prop:"posts_amount"}}),e._v(" "),a("el-table-column",{attrs:{label:"被屏蔽次数",sortable:"",prop:"shielded_amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看屏蔽用户",placement:"top"}},[a("el-link",{attrs:{target:"_blank"},on:{click:function(a){return e.jumpAssociation("shield_user",t.row.id)}}},[e._v("\n                "+e._s(t.row.shielded_amount)+"\n              ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"被关注次数",sortable:"",prop:"follow_by_other_amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看关注q用户",placement:"top"}},[a("el-link",{attrs:{target:"_blank"},on:{click:function(a){return e.jumpAssociation("follow_user",t.row.id)}}},[e._v("\n                "+e._s(t.row.follow_by_other_amount)+"\n              ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"今日活跃度",align:"center",prop:"today_activity"}}),e._v(" "),a("el-table-column",{attrs:{label:"余额",align:"center",prop:"balance"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"200px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{domProps:{innerHTML:e._s(e.showStatus(t.row.status))}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"最后登陆IP",align:"center",prop:"last_login_ip"}}),e._v(" "),a("el-table-column",{attrs:{label:"最后登陆时间",align:"center",prop:"last_login_time"}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/user"],expression:"['PUT:/system/user']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n            ")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/user"],expression:"['DELETE:/system/user']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户名称",prop:"username"}},[a("el-input",{attrs:{disabled:void 0!==e.form.id,placeholder:"请输入用户名称"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"用户密码",prop:"password"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("默认用户密码为：123456")])],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"重复用户密码",prop:"password2"}},[a("el-input",{attrs:{placeholder:"请输入用户密码",type:"password"},model:{value:e.form.password2,callback:function(t){e.$set(e.form,"password2",t)},expression:"form.password2"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-checkbox",{model:{value:e.status.forbidLogin,callback:function(t){e.$set(e.status,"forbidLogin",t)},expression:"status.forbidLogin"}},[e._v("禁止登录")]),e._v(" "),a("el-checkbox",{model:{value:e.status.forbidPost,callback:function(t){e.$set(e.status,"forbidPost",t)},expression:"status.forbidPost"}},[e._v("禁止发帖")]),e._v(" "),a("el-checkbox",{model:{value:e.status.forbidReply,callback:function(t){e.$set(e.status,"forbidReply",t)},expression:"status.forbidReply"}},[e._v("禁止回复")]),e._v(" "),a("el-checkbox",{model:{value:e.status.notActive,callback:function(t){e.$set(e.status,"notActive",t)},expression:"status.notActive"}},[e._v("尚未激活")])],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("1540"),i=a("5f87"),r=(a("fcb7"),a("ca17")),s=a.n(r),c=(a("542c"),{name:"User",components:{Treeselect:s.a},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,userList:null,title:"",open:!1,initPassword:"123456",dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(i["a"])()},url:"/admin/system/user/importData"},queryParams:{page:1,size:10,username:void 0,status:void 0},status:{forbidLogin:!1,forbidPost:!1,forbidReply:!1,notActive:!1},rules:{username:[{required:!0,message:"用户名称不能为空",trigger:"blur"}],password:[{required:!0,message:"用户密码不能为空",trigger:"blur"}],email:[{required:!0,message:"用户邮箱不能为空",trigger:"blur"}]}}},created:function(){this.queryParams.username=this.$route.query.username,this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["E"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.data.list,e.total=t.data.total,e.loading=!1}))},jumpAssociation:function(e,t){this.$router.push({path:"/forum/association?type=".concat(e,"&targetId=").concat(t)})},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.getList()},handleStatusChange:function(e){var t=this,a="normal"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.user_name+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["changeUserStatus"])(e.id,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,username:void 0,password:"123456",password2:"123456",status:"normal",remark:void 0},this.status={forbidLogin:!1,forbidPost:!1,forbidReply:!1,notActive:!1},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加用户",this.form.password=this.initPassword},handleUpdate:function(e){var t=this;this.reset();var a=e.id;console.log(a);var n=this;Object(l["r"])(a).then((function(e){n.form=e.data,console.log(e.data),n.open=!0,n.title="修改用户",n.form.password="******",n.form.password2="******",n.status.forbidLogin=(1&t.form.status)>0,n.status.forbidPost=(2&t.form.status)>0,n.status.forbidReply=(4&t.form.status)>0,n.status.notActive=(8&t.form.status)>0,console.log(t.status)}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){console.log(e.status,e.form.status,"111"),e.status.forbidLogin?e.form.status=1|e.form.status:e.form.status=-2&e.form.status,e.status.forbidPost?e.form.status=2|e.form.status:e.form.status=-3&e.form.status,e.status.forbidReply?e.form.status=4|e.form.status:e.form.status=-5&e.form.status,e.status.notActive?e.form.status=8|e.form.status:e.form.status=-9&e.form.status,t&&(void 0!==e.form.id?Object(l["T"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})).catch((function(){})):Object(l["c"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})).catch((function(){})))}))},handleDelete:function(e){var t=this,a=e.id?[e.id]:this.ids;this.$confirm('是否确认删除用户编号为"'+a.join(",")+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["m"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,"导入结果",{dangerouslyUseHTMLString:!0}),this.getList()},submitFileForm:function(){this.$refs.upload.submit()},showStatus:function(e){var t="";return 1&e&&(t+="禁止登录 "),2&e&&(t+="禁止发帖 "),4&e&&(t+="禁止回复 "),8&e&&(t+="尚未激活 "),""===t?'<el-tag class="el-tag el-tag--success el-tag--medium el-tag--light">正常</el-tag>':'<el-tag class="el-tag el-tag--danger el-tag--medium el-tag--light">'+t+"</el-tag>"}}}),u=c,d=a("2877"),m=Object(d["a"])(u,n,o,!1,null,null,null);t["default"]=m.exports},bf69:function(e,t,a){},bfc4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0}},[a("el-form-item",{attrs:{label:"字典名称",prop:"dictType"}},[a("el-select",{attrs:{size:"small"},model:{value:e.queryParams.dictType,callback:function(t){e.$set(e.queryParams,"dictType",t)},expression:"queryParams.dictType"}},e._l(e.typeOptions,(function(e){return a("el-option",{key:e.dict_id,attrs:{label:e.dict_name,value:e.dict_type}})})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"字典标签",prop:"dictLabel"}},[a("el-input",{attrs:{placeholder:"请输入字典标签",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.dictLabel,callback:function(t){e.$set(e.queryParams,"dictLabel",t)},expression:"queryParams.dictLabel"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{attrs:{placeholder:"数据状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.dict_value,attrs:{label:e.dict_label,value:e.dict_value}})})),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/dict/data"],expression:"['POST:/system/dict/data']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/dict/data"],expression:"['PUT:/system/dict/data']"}],attrs:{type:"success",icon:"el-icon-edit",size:"mini",disabled:e.single},on:{click:e.handleUpdate}},[e._v("修改")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/dict/data"],expression:"['DELETE:/system/dict/data']"}],attrs:{type:"danger",icon:"el-icon-delete",size:"mini",disabled:e.multiple},on:{click:e.handleDelete}},[e._v("删除")])],1),e._v(" "),a("el-col",{attrs:{span:1.5}},[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["GET:/system/dict/data/export"],expression:"['GET:/system/dict/data/export']"}],attrs:{type:"warning",icon:"el-icon-download",size:"mini"},on:{click:e.handleExport}},[e._v("导出")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dataList},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典编码",align:"center",prop:"dict_code"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典标签",align:"center",prop:"dict_label"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典键值",align:"center",prop:"dict_value"}}),e._v(" "),a("el-table-column",{attrs:{label:"字典排序",align:"center",prop:"dict_sort"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center",prop:"status",formatter:e.statusFormat}}),e._v(" "),a("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"create_time",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.create_time)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/dict/data"],expression:"['PUT:/system/dict/data']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/dict/data"],expression:"['DELETE:/system/dict/data']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"500px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"字典类型"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.form.dict_type,callback:function(t){e.$set(e.form,"dict_type",t)},expression:"form.dict_type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据标签",prop:"dict_label"}},[a("el-input",{attrs:{placeholder:"请输入数据标签"},model:{value:e.form.dict_label,callback:function(t){e.$set(e.form,"dict_label",t)},expression:"form.dict_label"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"数据键值",prop:"dict_value"}},[a("el-input",{attrs:{placeholder:"请输入数据键值"},model:{value:e.form.dict_value,callback:function(t){e.$set(e.form,"dict_value",t)},expression:"form.dict_value"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"显示排序",prop:"dict_sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.dict_sort,callback:function(t){e.$set(e.form,"dict_sort",t)},expression:"form.dict_sort"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},e._l(e.statusOptions,(function(t){return a("el-radio",{key:t.dict_value,attrs:{label:t.dict_value}},[e._v(e._s(t.dict_label))])})),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",placeholder:"请输入内容"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=a("aa3a"),i=a("ed45"),r={name:"Data",data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,dataList:[],defaultDictType:"",title:"",open:!1,statusOptions:[],typeOptions:[],queryParams:{pageNum:1,pageSize:10,dictName:void 0,dictType:void 0,status:void 0},form:{},rules:{dict_label:[{required:!0,message:"数据标签不能为空",trigger:"blur"}],dict_value:[{required:!0,message:"数据键值不能为空",trigger:"blur"}],dict_sort:[{required:!0,message:"数据顺序不能为空",trigger:"blur"}]}}},created:function(){var e=this,t=this.$route.params&&this.$route.params.dictId;this.getType(t),this.getTypeList(),this.getDicts("sys_normal_disable").then((function(t){e.statusOptions=t.data}))},methods:{getType:function(e){var t=this;Object(i["d"])(e).then((function(e){t.queryParams.dictType=e.data.dict_type,t.defaultDictType=e.data.dict_type,t.getList()}))},getTypeList:function(){var e=this;Object(i["e"])().then((function(t){e.typeOptions=t.rows}))},getList:function(){var e=this;this.loading=!0,Object(l["f"])(this.queryParams).then((function(t){e.dataList=t.rows,e.total=t.total,e.loading=!1}))},statusFormat:function(e,t){return this.selectDictLabel(this.statusOptions,e.status)},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={dict_code:void 0,dict_label:void 0,dict_value:void 0,dict_sort:0,status:"0",remark:void 0},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.queryParams.dictType=this.defaultDictType,this.handleQuery()},handleAdd:function(){this.reset(),this.open=!0,this.title="添加字典数据",this.form.dict_type=this.queryParams.dictType},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.dict_code})).join(","),this.single=1!=e.length,this.multiple=!e.length},handleUpdate:function(e){var t=this;this.reset();var a=e.dict_code||this.ids;Object(l["d"])(a).then((function(e){t.form=e.data,t.open=!0,t.title="修改字典数据"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.dict_code?Object(l["g"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})):Object(l["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})))}))},handleDelete:function(e){var t=this,a=e.dict_code||this.ids;this.$confirm('是否确认删除字典编码为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["b"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},handleExport:function(){var e=this,t=this.queryParams;this.$confirm("是否确认导出所有数据项?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["c"])(t)})).then((function(t){e.download(t.msg)})).catch((function(){}))}}},s=r,c=a("2877"),u=Object(c["a"])(s,n,o,!1,null,null,null);t["default"]=u.exports},c0c7:function(e,t,a){"use strict";a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"g",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"i",(function(){return d}));var n=a("b775"),o=a("c38a");function l(e){return Object(n["a"])({url:"/administrator-list",method:"get",params:e})}function i(e){return Object(n["a"])({url:"/administrator-info",params:{id:Object(o["e"])(e)},method:"get"})}function r(e){return Object(n["a"])({url:"/administrator-store",method:"post",data:e})}function s(e){return Object(n["a"])({url:"/administrator-update",method:"put",data:e})}function c(e){return Object(n["a"])({url:"/administrator-destroy",params:{Ids:e},method:"delete"})}function u(e,t){var a={userId:e,status:t};return Object(n["a"])({url:"/system/user/changeStatus",method:"put",data:a})}function d(e){return Object(n["a"])({url:"/personal-avatar",method:"post",data:e})}},c7e9:function(e,t,a){"use strict";a.r(t);a("4917"),a("ac6a");var n=a("23f1"),o=function(e){return e.keys()},l=/\.\/(.*)\.svg/,i=o(n).map((function(e){return e.match(l)[1]}));t["default"]=i},c81a:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",e._g(e._b({attrs:{"close-on-click-modal":!1,"modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("el-row",{attrs:{gutter:0}},[a("el-form",{ref:"elForm",attrs:{model:e.formData,rules:e.rules,size:"small","label-width":"100px"}},[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项名",prop:"label"}},[a("el-input",{attrs:{placeholder:"请输入选项名",clearable:""},model:{value:e.formData.label,callback:function(t){e.$set(e.formData,"label",t)},expression:"formData.label"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"选项值",prop:"value"}},[a("el-input",{attrs:{placeholder:"请输入选项值",clearable:""},model:{value:e.formData.value,callback:function(t){e.$set(e.formData,"value",t)},expression:"formData.value"}},[a("el-select",{style:{width:"100px"},attrs:{slot:"append"},slot:"append",model:{value:e.dataType,callback:function(t){e.dataType=t},expression:"dataType"}},e._l(e.dataTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value,disabled:e.disabled}})})),1)],1)],1)],1)],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handelConfirm}},[e._v("\n        确定\n      ")]),e._v(" "),a("el-button",{on:{click:e.close}},[e._v("\n        取消\n      ")])],1)],1)],1)},o=[],l=a("ed08"),i={components:{},inheritAttrs:!1,props:[],data:function(){return{id:100,formData:{label:void 0,value:void 0},rules:{label:[{required:!0,message:"请输入选项名",trigger:"blur"}],value:[{required:!0,message:"请输入选项值",trigger:"blur"}]},dataType:"string",dataTypeOptions:[{label:"字符串",value:"string"},{label:"数字",value:"number"}]}},computed:{},watch:{"formData.value":function(e){this.dataType=Object(l["e"])(e)?"number":"string"}},created:function(){},mounted:function(){},methods:{onOpen:function(){this.formData={label:void 0,value:void 0}},onClose:function(){},close:function(){this.$emit("update:visible",!1)},handelConfirm:function(){var e=this;this.$refs.elForm.validate((function(t){t&&("number"===e.dataType&&(e.formData.value=parseFloat(e.formData.value)),e.formData.id=e.id++,e.$emit("commit",e.formData),e.close())}))}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},cc6c:function(e,t,a){e.exports=a.p+"resource-admin/img/401.089007e7.gif"},cdb7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"后台配置",name:"backend"}},[a("el-form",{ref:"form",attrs:{model:e.backend,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"开启登录验证码"}},[a("el-radio",{attrs:{label:"1"},model:{value:e.backend.is_open_verify_captcha,callback:function(t){e.$set(e.backend,"is_open_verify_captcha",t)},expression:"backend.is_open_verify_captcha"}},[e._v("开启")]),e._v(" "),a("el-radio",{attrs:{label:"0"},model:{value:e.backend.is_open_verify_captcha,callback:function(t){e.$set(e.backend,"is_open_verify_captcha",t)},expression:"backend.is_open_verify_captcha"}},[e._v("关闭")])],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1)],1)],1)},o=[],l=a("c0c3"),i={data:function(){return{activeName:"backend",backend:{},binance:{}}},created:function(){this.getConfigs()},methods:{getConfigs:function(){var e=this;Object(l["b"])({modules:["backend","binance"]}).then((function(t){console.log(t.data,6666),e.backend=t.data.data.backend}))},submit:function(){var e=this;Object(l["c"])(this.activeName,this[this.activeName]).then((function(t){e.msgSuccess(t.message)}))},handleClick:function(e,t){console.log(e,t)}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},d0b2:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-dialog"},[a("el-dialog",e._g(e._b({attrs:{width:"980px","modal-append-to-body":!1},on:{open:e.onOpen,close:e.onClose}},"el-dialog",e.$attrs,!1),e.$listeners),[a("div",{attrs:{slot:"title"},slot:"title"},[e._v("\n      选择图标\n      "),a("el-input",{style:{width:"260px"},attrs:{size:"mini",placeholder:"请输入图标名称","prefix-icon":"el-icon-search",clearable:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),e._v(" "),a("ul",{staticClass:"icon-ul"},e._l(e.iconList,(function(t){return a("li",{key:t,class:e.active===t?"active-item":"",on:{click:function(a){return e.onSelect(t)}}},[a("i",{class:t}),e._v(" "),a("div",[e._v(e._s(t))])])})),0)])],1)},o=[],l=a("de0a"),i=l.map((function(e){return"el-icon-".concat(e)})),r={inheritAttrs:!1,props:["current"],data:function(){return{iconList:i,active:null,key:""}},watch:{key:function(e){this.iconList=e?i.filter((function(t){return t.indexOf(e)>-1})):i}},methods:{onOpen:function(){this.active=this.current,this.key=""},onClose:function(){},onSelect:function(e){this.active=e,this.$emit("select",e),this.$emit("update:visible",!1)}}},s=r,c=(a("9643"),a("2877")),u=Object(c["a"])(s,n,o,!1,null,"2fa68d6e",null);t["default"]=u.exports},d0c7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryForm",attrs:{model:e.queryParams,inline:!0,"label-width":"68px"}},[a("el-form-item",{attrs:{label:"主题id",prop:"post_id"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入主题id",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.post_id,callback:function(t){e.$set(e.queryParams,"post_id",t)},expression:"queryParams.post_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.username,callback:function(t){e.$set(e.queryParams,"username",t)},expression:"queryParams.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"关键词",prop:"keyword"}},[a("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入关键词",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.keyword,callback:function(t){e.$set(e.queryParams,"keyword",t)},expression:"queryParams.keyword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态",prop:"status"}},[a("el-select",{staticStyle:{width:"240px"},attrs:{placeholder:"状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{attrs:{label:"所有",value:""}}),e._v(" "),a("el-option",{attrs:{label:"未审核",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"正常",value:"1"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.list}},[a("el-table-column",{attrs:{label:"id",width:"100px",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"用户",prop:"username",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看用户",placement:"top"}},[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpUser(t.row)}}},[e._v(e._s(t.row.username))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"内容",width:"200px","show-overflow-tooltip":!0,align:"center",prop:"content"}}),e._v(" "),a("el-table-column",{attrs:{label:"主题",width:"200px","show-overflow-tooltip":!0,prop:"post_title",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpPost(t.row.post_id)}}},[e._v(e._s(t.row.post_title)+"\n        ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"感谢数量",sortable:"",prop:"thanks_amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看感谢用户",placement:"top"}},[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpAssociation("thanks_reply",t.row.id)}}},[e._v(e._s(t.row.thanks_amount)+"\n          ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"屏蔽数量",sortable:"",prop:"shielded_amount",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击查看屏蔽用户",placement:"top"}},[a("el-link",{attrs:{type:"primary",target:"_blank"},on:{click:function(a){return e.jumpAssociation("shield_reply",t.row.id)}}},[e._v(e._s(t.row.shielded_amount)+"\n          ")])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("未审核")]):e._e(),e._v(" "),1===t.row.status?a("el-tag",{attrs:{type:"success"}},[e._v("正常")]):e._e(),e._v(" "),-1===t.row.status?a("el-tag",{attrs:{type:"danger"}},[e._v("屏蔽")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建日期",align:"center",prop:"created_at"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleView(t.row)}}},[e._v("详情\n        ")]),e._v(" "),0===t.row.status?a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleAudit(t.row.id)}}},[e._v("审核\n        ")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleManage(t.row)}}},[e._v("管理\n        ")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-view"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n        ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}}),e._v(" "),a("el-dialog",{attrs:{title:"管理回复",visible:e.manageOpen,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.manageOpen=t}}},[a("el-form",{ref:"form",attrs:{model:e.form}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:1}},[e._v(" 正常")]),e._v(" "),a("el-radio",{attrs:{label:-1}},[e._v(" 屏蔽")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"回复详情",visible:e.detailOpen,width:"600px","append-to-body":""},on:{"update:visible":function(t){e.detailOpen=t}}},[a("div",{staticClass:"content",domProps:{innerHTML:e._s(e.detailContent)}})])],1)},o=[],l=a("1540"),i={name:"reply",data:function(){return{loading:!1,queryParams:{page:1,size:10},list:[],total:0,detailOpen:!1,form:{},manageOpen:!1,detailContent:""}},created:function(){this.queryParams.post_id=this.$route.query.postId,this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["D"])(this.queryParams).then((function(t){e.list=t.data.list,e.total=t.data.total,e.loading=!1}))},handleQuery:function(){this.queryParams.page=1,this.getList()},jumpPost:function(e){this.$router.push({path:"/post-reply/posts?id=".concat(e)})},jumpAssociation:function(e,t){this.$router.push({path:"/forum/association?type=".concat(e,"&targetId=").concat(t)})},jumpUser:function(e){this.$router.push({path:"/user-manage/users?username=".concat(e.username)})},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})).join(","),this.multiple=!e.length},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleView:function(e){this.detailContent=e.content,this.detailOpen=!0},handleAudit:function(e){var t=this;this.$confirm("确定要审核通过该条回复么","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["e"])({id:e}).then((function(e){0!==e.code?t.msgError(e.msg):(t.getList(),t.msgSuccess("审核成功"))}))}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["k"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))},submitForm:function(){var e=this;Object(l["S"])(this.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.manageOpen=!1,e.getList()):e.msgError(t.msg)})).catch((function(){}))},cancel:function(){this.manageOpen=!1},handleManage:function(e){this.manageOpen=!0,this.form=JSON.parse(JSON.stringify(e)),console.log(e)}}},r=i,s=(a("f059"),a("2877")),c=Object(s["a"])(r,n,o,!1,null,null,null);t["default"]=c.exports},d153:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],l=a("313e"),i=a.n(l),r=a("feb2");a("817d");var s={mixins:[r["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports},d1c2:function(e,t,a){},da11:function(e,t,a){},da24:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:24,xs:24}},[a("el-row",{staticClass:"mb8",attrs:{gutter:10}},[a("el-col",{attrs:{span:1.5}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增\n          ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.promptList}},[a("el-table-column",{attrs:{label:"编号",align:"center",prop:"id"}}),e._v(" "),a("el-table-column",{attrs:{label:"位置",width:"100px",align:"center",prop:"position"}}),e._v(" "),a("el-table-column",{attrs:{label:"内容","show-overflow-tooltip":!0,align:"center",prop:"content"}}),e._v(" "),a("el-table-column",{attrs:{label:"描述","show-overflow-tooltip":!0,align:"center",prop:"description"}}),e._v(" "),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.is_disabled?a("el-tag",{attrs:{type:"success"}},[e._v("正常")]):a("el-tag",{attrs:{type:"danger"}},[e._v("禁用")])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"created_at",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.parseTime(t.row.created_at)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center",width:"180","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n            ")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/user"],expression:"['DELETE:/system/user']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n            ")])]}}])})],1),e._v(" "),a("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.page,limit:e.queryParams.size},on:{"update:page":function(t){return e.$set(e.queryParams,"page",t)},"update:limit":function(t){return e.$set(e.queryParams,"size",t)},pagination:e.getList}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"80%","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"位置",prop:"position"}},[a("el-input",{attrs:{placeholder:"请输入位置"},model:{value:e.form.position,callback:function(t){e.$set(e.form,"position",t)},expression:"form.position"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{height:"350px"},attrs:{span:24}},[a("el-form-item",{attrs:{label:"内容",prop:"content"}},[a("quill-editor",{ref:"myQuillEditor",staticStyle:{height:"250px","margin-bottom":"20px"},attrs:{options:e.editorOption},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"描述",prop:"username"}},[a("el-input",{attrs:{placeholder:"请输入描述"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-radio-group",{model:{value:e.form.is_disabled,callback:function(t){e.$set(e.form,"is_disabled",t)},expression:"form.is_disabled"}},[a("el-radio",{attrs:{label:"0"}},[e._v(" 正常")]),e._v(" "),a("el-radio",{attrs:{label:"1"}},[e._v(" 禁用")])],1)],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return t.preventDefault(),e.submitForm(t)}}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("6b54"),a("1540")),i=a("5f87"),r=(a("a753"),a("8096"),a("953d")),s={name:"User",components:{quillEditor:r["quillEditor"]},data:function(){return{loading:!0,ids:[],single:!0,multiple:!0,total:0,promptList:null,title:"",open:!1,initPassword:"123456",dateRange:[],statusOptions:[],sexOptions:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},editorOption:{},upload:{open:!1,title:"",isUploading:!1,updateSupport:0,headers:{Authorization:"Bearer "+Object(i["a"])()},url:"/admin/system/user/importData"},queryParams:{page:1,size:10,username:void 0,status:void 0},rules:{position:[{required:!0,message:"请输入位置",trigger:"blur"}],content:[{required:!0,message:"请输入内容",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(l["C"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.promptList=t.data.list,e.total=t.data.total,e.loading=!1}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.getList()},handleStatusChange:function(e){var t=this,a="normal"===e.status?"启用":"停用";this.$confirm('确认要"'+a+'""'+e.user_name+'"用户吗?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["changeUserStatus"])(e.id,e.status)})).then((function(){t.msgSuccess(a+"成功")})).catch((function(){e.status="0"===e.status?"1":"0"}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,position:void 0,content:void 0,description:void 0,is_disabled:"0"},this.resetForm("form")},handleQuery:function(){this.queryParams.page=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.id})),this.single=1!=e.length,this.multiple=!e.length},handleAdd:function(){this.reset(),this.open=!0,this.title="添加提示语"},handleUpdate:function(e){var t=this;this.reset();var a=e.id,n=this;Object(l["p"])(a).then((function(e){n.form=e.data,t.form.is_disabled=e.data.is_disabled.toString(),console.log(e.data),n.open=!0,n.title="修改提示"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){if(t){void 0!==e.form.id?Object(l["R"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.msg)})).catch((function(){})):Object(l["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.msg)})).catch((function(){}))}}))},handleDelete:function(e){var t=this,a=e.id;this.$confirm('是否确认删除编号为"'+a+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["j"])(a)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports},dd7b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules}},[a("h3",{staticClass:"title"},[e._v("gf-admin后台管理系统")]),e._v(" "),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e._v(" "),1==e.isOpenVerifyCaptcha?a("el-form-item",{attrs:{prop:"code"}},[a("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}},[a("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),e._v(" "),a("div",{staticClass:"login-code"},[a("img",{attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),e._v(" "),a("el-checkbox",{staticStyle:{margin:"0px 0px 25px 0px"},model:{value:e.loginForm.rememberMe,callback:function(t){e.$set(e.loginForm,"rememberMe",t)},expression:"loginForm.rememberMe"}},[e._v("记住密码")]),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"}},[a("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e.loading?a("span",[e._v("登 录 中...")]):a("span",[e._v("登 录")])])],1)],1),e._v(" "),e._m(0)],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"el-login-footer"},[a("span",[e._v("Copyright © 2018-2019 ruoyi.vip All Rights Reserved.")])])}],l=a("7ded"),i=a("a78e"),r=a.n(i),s=a("720d"),c=a.n(s),u="MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBANL378k3RiZHWx5AfJqdH9xRNBmD9wGD\n2iRe41HdTNF8RUhNnHit5NpMNtGL0NPTSSpPjjI1kJfVorRvaQerUgkCAwEAAQ==",d="MIIBUwIBADANBgkqhkiG9w0BAQEFAASCAT0wggE5AgEAAkEA0vfvyTdGJkdbHkB8\nmp0f3FE0GYP3AYPaJF7jUd1M0XxFSE2ceK3k2kw20YvQ09NJKk+OMjWQl9WitG9p\nB6tSCQIDAQABAkA2SimBrWC2/wvauBuYqjCFwLvYiRYqZKThUS3MZlebXJiLB+Ue\n/gUifAAKIg1avttUZsHBHrop4qfJCwAI0+YRAiEA+W3NK/RaXtnRqmoUUkb59zsZ\nUBLpvZgQPfj1MhyHDz0CIQDYhsAhPJ3mgS64NbUZmGWuuNKp5coY2GIj/zYDMJp6\nvQIgUueLFXv/eZ1ekgz2Oi67MNCk5jeTF2BurZqNLR3MSmUCIFT3Q6uHMtsB9Eha\n4u7hS31tj1UWE+D+ADzp59MGnoftAiBeHT7gDMuqeJHPL4b+kC+gzV4FGTfhR9q3\ntTbklZkD2A==";function m(e){var t=new c.a;return t.setPublicKey(u),t.encrypt(e)}function p(e){var t=new c.a;return t.setPrivateKey(d),t.decrypt(e)}var f={name:"Login",data:function(){return{codeUrl:"",cookiePassword:"",isOpenVerifyCaptcha:0,loginForm:{username:"admin",password:"123456",rememberMe:!1,captcha_id:void 0,code:void 0},loginRules:{username:[{required:!0,trigger:"blur",message:"用户名不能为空"}],password:[{required:!0,trigger:"blur",message:"密码不能为空"}]},loading:!1,redirect:void 0}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},created:function(){this.getLoginInfo(),this.getCookie()},methods:{getLoginInfo:function(){var e=this;Object(l["d"])().then((function(t){console.log(t.data.data.is_open_verify_captcha,333),e.isOpenVerifyCaptcha=t.data.data.is_open_verify_captcha,1==e.isOpenVerifyCaptcha&&(console.log(9999),e.getCode()),console.log(e.isOpenVerifyCaptcha,3333)}))},getCode:function(){var e=this;Object(l["a"])().then((function(t){console.log(t),e.codeUrl=t.data.captcha_base64,e.loginForm.captcha_id=t.data.captcha_id})).catch((function(e){}))},getCookie:function(){var e=r.a.get("username"),t=r.a.get("password"),a=r.a.get("rememberMe");this.loginForm={username:void 0===e?this.loginForm.username:e,password:void 0===t?this.loginForm.password:p(t),rememberMe:void 0!==a&&Boolean(a)}},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){t&&(e.loading=!0,e.loginForm.rememberMe?(r.a.set("username",e.loginForm.username,{expires:30}),r.a.set("password",m(e.loginForm.password),{expires:30}),r.a.set("rememberMe",e.loginForm.rememberMe,{expires:30})):(r.a.remove("username"),r.a.remove("password"),r.a.remove("rememberMe")),e.$store.dispatch("Login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/"})})).catch((function(t){e.getCode(),console.log(t,222),e.loading=!1})))}))}}},v=f,h=(a("eecc"),a("2877")),b=Object(h["a"])(v,n,o,!1,null,null,null);t["default"]=b.exports},de0a:function(e){e.exports=["platform-eleme","eleme","delete-solid","delete","s-tools","setting","user-solid","user","phone","phone-outline","more","more-outline","star-on","star-off","s-goods","goods","warning","warning-outline","question","info","remove","circle-plus","success","error","zoom-in","zoom-out","remove-outline","circle-plus-outline","circle-check","circle-close","s-help","help","minus","plus","check","close","picture","picture-outline","picture-outline-round","upload","upload2","download","camera-solid","camera","video-camera-solid","video-camera","message-solid","bell","s-cooperation","s-order","s-platform","s-fold","s-unfold","s-operation","s-promotion","s-home","s-release","s-ticket","s-management","s-open","s-shop","s-marketing","s-flag","s-comment","s-finance","s-claim","s-custom","s-opportunity","s-data","s-check","s-grid","menu","share","d-caret","caret-left","caret-right","caret-bottom","caret-top","bottom-left","bottom-right","back","right","bottom","top","top-left","top-right","arrow-left","arrow-right","arrow-down","arrow-up","d-arrow-left","d-arrow-right","video-pause","video-play","refresh","refresh-right","refresh-left","finished","sort","sort-up","sort-down","rank","loading","view","c-scale-to-original","date","edit","edit-outline","folder","folder-opened","folder-add","folder-remove","folder-delete","folder-checked","tickets","document-remove","document-delete","document-copy","document-checked","document","document-add","printer","paperclip","takeaway-box","search","monitor","attract","mobile","scissors","umbrella","headset","brush","mouse","coordinate","magic-stick","reading","data-line","data-board","pie-chart","data-analysis","collection-tag","film","suitcase","suitcase-1","receiving","collection","files","notebook-1","notebook-2","toilet-paper","office-building","school","table-lamp","house","no-smoking","smoking","shopping-cart-full","shopping-cart-1","shopping-cart-2","shopping-bag-1","shopping-bag-2","sold-out","sell","present","box","bank-card","money","coin","wallet","discount","price-tag","news","guide","male","female","thumb","cpu","link","connection","open","turn-off","set-up","chat-round","chat-line-round","chat-square","chat-dot-round","chat-dot-square","chat-line-square","message","postcard","position","turn-off-microphone","microphone","close-notification","bangzhu","time","odometer","crop","aim","switch-button","full-screen","copy-document","mic","stopwatch","medal-1","medal","trophy","trophy-1","first-aid-kit","discover","place","location","location-outline","location-information","add-location","delete-location","map-location","alarm-clock","timer","watch-1","watch","lock","unlock","key","service","mobile-phone","bicycle","truck","ship","basketball","football","soccer","baseball","wind-power","light-rain","lightning","heavy-rain","sunrise","sunrise-1","sunset","sunny","cloudy","partly-cloudy","cloudy-and-sunny","moon","moon-night","dish","dish-1","food","chicken","fork-spoon","knife-fork","burger","tableware","sugar","dessert","ice-cream","hot-water","water-cup","coffee-cup","cold-drink","goblet","goblet-full","goblet-square","goblet-square-full","refrigerator","grape","watermelon","cherry","apple","pear","orange","coffee","ice-tea","ice-drink","milk-tea","potato-strips","lollipop","ice-cream-square","ice-cream-round"]},e4ce:function(e,t,a){"use strict";a("4390")},e7d3:function(e,t,a){},eab4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:e.className,style:{height:e.height,width:e.width}})},o=[],l=a("313e"),i=a.n(l),r=a("feb2");a("817d");var s={mixins:[r["default"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(e){this.setOptions(e)}}},mounted:function(){var e=this;this.$nextTick((function(){e.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.users,a=e.posts,n=e.replies,o=e.xCoordinate;this.chart.setOption({xAxis:{data:o,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["用户数量","主题数量","回复数量"]},series:[{name:"用户数量",itemStyle:{normal:{color:"#40c9c6",lineStyle:{color:"#40c9c6",width:2}}},smooth:!0,type:"line",data:t,animationDuration:2800,animationEasing:"cubicInOut"},{name:"主题数量",smooth:!0,type:"line",itemStyle:{normal:{color:"#36a3f7",lineStyle:{color:"#36a3f7",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"},{name:"回复数量",smooth:!0,type:"line",itemStyle:{normal:{color:"#d2b213",lineStyle:{color:"#d2b213",width:2},areaStyle:{color:"#f3f8ff"}}},data:n,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},c=s,u=a("2877"),d=Object(u["a"])(c,n,o,!1,null,null,null);t["default"]=d.exports},ec55:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"errPage-container"},[a("el-button",{staticClass:"pan-back-btn",attrs:{icon:"arrow-left"},on:{click:e.back}},[e._v("\n    返回\n  ")]),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",{staticClass:"text-jumbo text-ginormous"},[e._v("\n        401错误!\n      ")]),e._v(" "),a("h2",[e._v("您没有访问权限！")]),e._v(" "),a("h6",[e._v("对不起，您没有访问权限，请不要进行非法操作！您可以返回主页面")]),e._v(" "),a("ul",{staticClass:"list-unstyled"},[a("li",{staticClass:"link-type"},[a("router-link",{attrs:{to:"/"}},[e._v("\n            回首页\n          ")])],1)])]),e._v(" "),a("el-col",{attrs:{span:12}},[a("img",{attrs:{src:e.errGif,width:"313",height:"428",alt:"Girl has dropped her ice cream."}})])],1)],1)},o=[],l=a("cc6c"),i=a.n(l),r={name:"Page401",data:function(){return{errGif:i.a+"?"+ +new Date}},methods:{back:function(){this.$route.query.noGoBack?this.$router.push({path:"/"}):this.$router.go(-1)}}},s=r,c=(a("ecf6"),a("2877")),u=Object(c["a"])(s,n,o,!1,null,"f2e02586",null);t["default"]=u.exports},ecf6:function(e,t,a){"use strict";a("514f")},ed45:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"g",(function(){return r})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return c})),a.d(t,"f",(function(){return u}));var n=a("b775");function o(e){return Object(n["a"])({url:"/system/dict/type",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/system/dict/type/info",method:"get",params:{dictId:e}})}function i(e){return Object(n["a"])({url:"/system/dict/type",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/system/dict/type",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/system/dict/type",method:"delete",params:{ids:e}})}function c(e){return Object(n["a"])({url:"/system/dict/type/export",method:"get",params:e})}function u(){return Object(n["a"])({url:"/system/dict/type/optionselect",method:"get"})}},ed69:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"basicInfoForm",attrs:{model:e.info,rules:e.rules,"label-width":"150px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表名称",prop:"table_name"}},[a("el-input",{attrs:{placeholder:"请输入仓库名称"},model:{value:e.info.table_name,callback:function(t){e.$set(e.info,"table_name",t)},expression:"info.table_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"表描述",prop:"table_comment"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.table_comment,callback:function(t){e.$set(e.info,"table_comment",t)},expression:"info.table_comment"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"实体包名称",prop:"class_name"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.class_name,callback:function(t){e.$set(e.info,"class_name",t)},expression:"info.class_name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"作者",prop:"function_author"}},[a("el-input",{attrs:{placeholder:"请输入"},model:{value:e.info.function_author,callback:function(t){e.$set(e.info,"function_author",t)},expression:"info.function_author"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea",rows:3},model:{value:e.info.remark,callback:function(t){e.$set(e.info,"remark",t)},expression:"info.remark"}})],1)],1)],1)],1)},o=[],l={name:"BasicInfoForm",props:{info:{type:Object,default:null}},data:function(){return{rules:{table_name:[{required:!0,message:"请输入表名称",trigger:"blur"}],table_comment:[{required:!0,message:"请输入表描述",trigger:"blur"}],class_name:[{required:!0,message:"请输入实体类名称",trigger:"blur"}],function_author:[{required:!0,message:"请输入作者",trigger:"blur"}]}}}},i=l,r=a("2877"),s=Object(r["a"])(i,n,o,!1,null,null,null);t["default"]=s.exports},eecc:function(e,t,a){"use strict";a("8dd8")},f059:function(e,t,a){"use strict";a("21b6")},f794:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"菜单名称"}},[a("el-input",{attrs:{placeholder:"请输入菜单名称",clearable:"",size:"small"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.name,callback:function(t){e.$set(e.queryParams,"name",t)},expression:"queryParams.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{attrs:{placeholder:"菜单状态",clearable:"",size:"small"},model:{value:e.queryParams.status,callback:function(t){e.$set(e.queryParams,"status",t)},expression:"queryParams.status"}},[a("el-option",{key:"normal",attrs:{label:"正常",value:"normal"}}),e._v(" "),a("el-option",{key:"disabled",attrs:{label:"禁用",value:"disabled"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/menu"],expression:"['POST:/system/menu']"}],attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("\n          新增\n        ")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.menuList,"row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}}},[a("el-table-column",{attrs:{prop:"name",label:"名称","show-overflow-tooltip":!0,width:"160"}}),e._v(" "),a("el-table-column",{attrs:{prop:"icon",label:"图标",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("svg-icon",{attrs:{"icon-class":e.row.icon}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"sort",label:"排序",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"front_component_path",label:"组件路径","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"identification",label:"权限标识","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",formatter:e.statusFormat,width:"80"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["POST:/system/menu"],expression:"['POST:/system/menu']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(a){return e.handleUpdate(t.row)}}},[e._v("修改\n          ")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["PUT:/system/menu"],expression:"['PUT:/system/menu']"}],attrs:{size:"mini",type:"text",icon:"el-icon-plus"},on:{click:function(a){return e.handleAdd(t.row)}}},[e._v("新增\n          ")]),e._v(" "),a("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["DELETE:/system/menu"],expression:"['DELETE:/system/menu']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.row)}}},[e._v("删除\n          ")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:e.title,visible:e.open,width:"700px","append-to-body":""},on:{"update:visible":function(t){e.open=t}}},[a("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"上级菜单"}},[a("treeselect",{attrs:{options:e.menuOptions,normalizer:e.normalizer,"show-count":!0,placeholder:"选择上级菜单"},model:{value:e.form.parent_id,callback:function(t){e.$set(e.form,"parent_id",t)},expression:"form.parent_id"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[a("el-radio-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[a("el-radio",{attrs:{label:"directory"}},[e._v("目录")]),e._v(" "),a("el-radio",{attrs:{label:"link"}},[e._v("菜单")]),e._v(" "),a("el-radio",{attrs:{label:"operation"}},[e._v("操作")])],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["operation"!=e.form.type?a("el-form-item",{attrs:{label:"菜单图标"}},[a("el-popover",{attrs:{placement:"bottom-start",width:"460",trigger:"click"},on:{show:function(t){return e.$refs["iconSelect"].reset()}}},[a("IconSelect",{ref:"iconSelect",on:{selected:e.selected}}),e._v(" "),a("el-input",{attrs:{slot:"reference",placeholder:"点击选择图标",readonly:""},slot:"reference",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e.form.icon?a("svg-icon",{staticClass:"el-input__icon",staticStyle:{height:"32px",width:"16px"},attrs:{slot:"prefix","icon-class":e.form.icon},slot:"prefix"}):a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"prefix"},slot:"prefix"})],1)],1)],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["operation"!=e.form.type?a("el-form-item",{attrs:{label:"前端路由地址",prop:"path"}},[a("el-input",{attrs:{placeholder:"请输入路由地址"},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("前端通过url访问的链接,如：administrator")])],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"显示排序",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("顺序越小越靠前,该值会影响菜单的显示顺序")])],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},["operation"!=e.form.type?a("el-form-item",{attrs:{label:"是否外链"}},[a("el-radio-group",{model:{value:e.form.link_type,callback:function(t){e.$set(e.form,"link_type",t)},expression:"form.link_type"}},[a("el-radio",{attrs:{label:"external"}},[e._v("是")]),e._v(" "),a("el-radio",{attrs:{label:"internal"}},[e._v("否")])],1)],1):e._e()],1),e._v(" "),"link"==e.form.type?a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"前端组件路径",prop:"front_component_path"}},[a("el-input",{attrs:{placeholder:"请输入组件路径"},model:{value:e.form.front_component_path,callback:function(t){e.$set(e.form,"front_component_path",t)},expression:"form.front_component_path"}}),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("该页面对应的组件路径,使用相对于src/views的路径,如：system/administrator/index")])],1)],1):e._e(),e._v(" "),a("el-col",{staticStyle:{"margin-top":"20px"},attrs:{span:24}},["directory"!=e.form.type&&"external"!=e.form.link_type?a("el-form-item",{attrs:{label:"权限标识"}},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入权限标识",maxlength:"50"},model:{value:e.form.identification,callback:function(t){e.$set(e.form,"identification",t)},expression:"form.identification"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.form.method,callback:function(t){e.$set(e.form,"method",t)},expression:"form.method"}},[a("el-option",{attrs:{label:"GET",value:"GET"}}),e._v(" "),a("el-option",{attrs:{label:"POST",value:"POST"}}),e._v(" "),a("el-option",{attrs:{label:"PUT",value:"PUT"}}),e._v(" "),a("el-option",{attrs:{label:"DELETE",value:"DELETE"}})],1)],1),e._v(" "),a("div",{staticClass:"warning-tips"},[e._v("权限标识必须以/开头,为访问后端的url，如/administrator-list")])],1):e._e()],1),e._v(" "),a("el-col",{attrs:{span:12}},["operation"!=e.form.type?a("el-form-item",{attrs:{label:"菜单状态"}},[a("el-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[a("el-radio",{attrs:{label:"normal"}},[e._v("正常")]),e._v(" "),a("el-radio",{attrs:{label:"disabled"}},[e._v("禁用")])],1)],1):e._e()],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("确 定")]),e._v(" "),a("el-button",{on:{click:e.cancel}},[e._v("取 消")])],1)],1)],1)},o=[],l=(a("7f7f"),a("a6dc")),i=a("ca17"),r=a.n(i),s=(a("542c"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"icon-body"},[a("el-input",{staticStyle:{position:"relative"},attrs:{clearable:"",placeholder:"请输入图标名称"},on:{clear:e.filterIcons},nativeOn:{input:function(t){return e.filterIcons(t)}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[a("i",{staticClass:"el-icon-search el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),e._v(" "),a("div",{staticClass:"icon-list"},e._l(e.iconList,(function(t,n){return a("div",{key:n,on:{click:function(a){return e.selectedIcon(t)}}},[a("svg-icon",{staticStyle:{height:"30px",width:"16px"},attrs:{"icon-class":t}}),e._v(" "),a("span",[e._v(e._s(t))])],1)})),0)],1)}),c=[],u=(a("6762"),a("2fdb"),a("4917"),a("ac6a"),a("23f1")),d=function(e){return e.keys()},m=/\.\/(.*)\.svg/,p=d(u).map((function(e){return e.match(m)[1]})),f=p,v={name:"IconSelect",data:function(){return{name:"",iconList:f}},methods:{filterIcons:function(){var e=this;this.name?this.iconList=this.iconList.filter((function(t){return t.includes(e.name)})):this.iconList=f},selectedIcon:function(e){this.$emit("selected",e),document.body.click()},reset:function(){this.name="",this.iconList=f}}},h=v,b=(a("2c7d"),a("2877")),_=Object(b["a"])(h,s,c,!1,null,"4f94f88f",null),g=_.exports,y={name:"Menu",components:{Treeselect:r.a,IconSelect:g},data:function(){return{loading:!0,menuList:[],menuOptions:[],title:"",open:!1,visibleOptions:[],statusOptions:[],queryParams:{name:void 0,status:void 0},form:{},rules:{name:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],sort:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}]}}},created:function(){this.getList()},methods:{selected:function(e){this.form.icon=e},getList:function(){var e=this;this.loading=!0,Object(l["d"])(this.queryParams).then((function(t){e.menuList=e.handleTree(t.data.List),console.log(JSON.parse(JSON.stringify(e.menuList))),e.loading=!1}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.id,label:e.name,children:e.children}},getTreeselect:function(){var e=this;Object(l["d"])().then((function(t){e.menuOptions=[];var a={id:0,name:"根菜单",children:[]};a.children=e.handleTree(t.data.List),e.menuOptions.push(a)}))},statusFormat:function(e,t){return"normal"===e.status?"正常":"禁用"},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:void 0,parent_id:0,name:void 0,icon:void 0,type:"operation",sort:0,link_type:"internal",status:"normal",method:"GET",front_component_path:""},this.resetForm("form")},handleQuery:function(){this.getList()},handleAdd:function(e){this.reset(),this.getTreeselect(),null!=e&&(this.form.parent_id=e.id),this.open=!0,this.title="添加菜单"},handleUpdate:function(e){var t=this;this.reset(),this.getTreeselect(),Object(l["c"])(e.id).then((function(e){t.form=e.data,t.form.status=t.form.status+"",t.form.link_type=t.form.link_type+"",t.open=!0,t.title="修改菜单"}))},submitForm:function(){var e=this;this.$refs["form"].validate((function(t){t&&(void 0!=e.form.id?Object(l["e"])(e.form).then((function(t){0===t.code?(e.msgSuccess("修改成功"),e.open=!1,e.getList()):e.msgError(t.Message)})):Object(l["a"])(e.form).then((function(t){0===t.code?(e.msgSuccess("新增成功"),e.open=!1,e.getList()):e.msgError(t.Message)})))}))},handleDelete:function(e){var t=this;this.$confirm('是否确认删除名称为"'+e.name+'"的数据项?',"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return Object(l["b"])(e.id)})).then((function(){t.getList(),t.msgSuccess("删除成功")})).catch((function(){}))}}},w=y,k=(a("294e"),Object(b["a"])(w,n,o,!1,null,null,null));t["default"]=k.exports},fbc4:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",[a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:8,sm:8,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper user"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n            今日新增用户\n          ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.todayUserCount,duration:1e3}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:8,sm:8,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper post"},[a("svg-icon",{attrs:{"icon-class":"edit","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n            今日新增主题\n          ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.todayPostCount,duration:3200}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:8,sm:8,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper reply"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n            今日新增回复\n          ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.todayPostCount,duration:1e3}})],1)])])],1),e._v(" "),a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:8,sm:8,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper user"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n            所有用户\n          ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.allUserCount,duration:1e3}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:8,sm:8,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper post"},[a("svg-icon",{attrs:{"icon-class":"edit","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n            所有主题\n          ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.allPostCount,duration:3200}})],1)])]),e._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:8,sm:8,lg:8}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper reply"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),e._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[e._v("\n            所有回复\n          ")]),e._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":e.allPostCount,duration:1e3}})],1)])])],1)],1)},o=[],l=(a("c5f6"),a("ec1b")),i=a.n(l),r={components:{CountTo:i.a},props:{todayUserCount:{type:Number,default:0},todayPostCount:{type:Number,default:0},todayReplyCount:{type:Number,default:0},allUserCount:{type:Number,default:0},allPostCount:{type:Number,default:0},allReplyCount:{type:Number,default:0}},methods:{}},s=r,c=(a("8da2"),a("2877")),u=Object(c["a"])(s,n,o,!1,null,"dfad064a",null);t["default"]=u.exports},fcb7:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return i})),a.d(t,"e",(function(){return r})),a.d(t,"b",(function(){return s}));var n=a("b775");function o(e){return Object(n["a"])({url:"/system/dept",method:"get",params:e})}function l(e){return Object(n["a"])({url:"/system/dept/info",method:"get",params:{id:e}})}function i(e){return Object(n["a"])({url:"/system/dept",method:"post",data:e})}function r(e){return Object(n["a"])({url:"/system/dept",method:"put",data:e})}function s(e){return Object(n["a"])({url:"/system/dept",method:"delete",params:{id:e}})}},feb2:function(e,t,a){"use strict";a.r(t);var n=a("ed08");t["default"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(e){"width"===e.propertyName&&this.$_resizeHandler()},initListener:function(){var e=this;this.$_resizeHandler=Object(n["c"])((function(){e.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var e=this.chart;e&&e.resize()}}}}}]);